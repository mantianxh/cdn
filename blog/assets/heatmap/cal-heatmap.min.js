!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("d3-selection"),require("d3-color"),require("d3"),require("d3-fetch")):"function"==typeof define&&define.amd?define(["d3-selection","d3-color","d3","d3-fetch"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).CalHeatmap=e(t.d3,t.d3,t.d3,t.d3)}(this,(function(t,e,n,r){"use strict";function i(){i=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,i){var o=e&&e.prototype instanceof d?e:d,a=Object.create(o.prototype),u=new _(i||[]);return r(a,"_invoke",{value:O(t,n,u)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var h={};function d(){}function p(){}function v(){}var y={};c(y,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(M([])));g&&g!==e&&n.call(g,a)&&(y=g);var b=v.prototype=d.prototype=Object.create(y);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function i(r,o,a,u){var s=f(t[r],t,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){i("next",t,a,u)}),(function(t){i("throw",t,a,u)})):e.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return i("throw",t,a,u)}))}u(s.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function O(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var u=k(a,n);if(u){if(u===h)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=f(t,e,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===h)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=f(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,h;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function M(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:D}}function D(){return{value:void 0,done:!0}}return p.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=c(v,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,c(t,s,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(x.prototype),c(x.prototype,u,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new x(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),c(b,s,"Generator"),c(b,a,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=M,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(u&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;j(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:M(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d(r.key),r)}}function s(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){c=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return u}}(t,e)||f(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t){return function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||f(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){if(t){if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}var p="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function v(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var y=function(t){return t&&t.Math===Math&&t},m=y("object"==typeof globalThis&&globalThis)||y("object"==typeof window&&window)||y("object"==typeof self&&self)||y("object"==typeof p&&p)||y("object"==typeof p&&p)||function(){return this}()||Function("return this")(),g={exports:{}},b=m,w=Object.defineProperty,x=function(t,e){try{w(b,t,{value:e,configurable:!0,writable:!0})}catch(n){b[t]=e}return e},O=x,k="__core-js_shared__",S=m[k]||O(k,{}),j=S;(g.exports=function(t,e){return j[t]||(j[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.34.0",mode:"global",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.34.0/LICENSE",source:"https://github.com/zloirock/core-js"});var _,M,D=g.exports,P=function(t){try{return!!t()}catch(t){return!0}},$=!P((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),E=$,L=Function.prototype,T=L.call,C=E&&L.bind.bind(T,T),A=E?C:function(t){return function(){return T.apply(t,arguments)}},R=function(t){return null==t},I=R,N=TypeError,W=function(t){if(I(t))throw new N("Can't call method on "+t);return t},Y=W,z=Object,F=function(t){return z(Y(t))},H=F,B=A({}.hasOwnProperty),G=Object.hasOwn||function(t,e){return B(H(t),e)},U=A,q=0,V=Math.random(),K=U(1..toString),Z=function(t){return"Symbol("+(void 0===t?"":t)+")_"+K(++q+V,36)},Q="undefined"!=typeof navigator&&String(navigator.userAgent)||"",J=m,X=Q,tt=J.process,et=J.Deno,nt=tt&&tt.versions||et&&et.version,rt=nt&&nt.v8;rt&&(M=(_=rt.split("."))[0]>0&&_[0]<4?1:+(_[0]+_[1])),!M&&X&&(!(_=X.match(/Edge\/(\d+)/))||_[1]>=74)&&(_=X.match(/Chrome\/(\d+)/))&&(M=+_[1]);var it=M,ot=it,at=P,ut=m.String,st=!!Object.getOwnPropertySymbols&&!at((function(){var t=Symbol("symbol detection");return!ut(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&ot&&ot<41})),ct=st&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,lt=D,ft=G,ht=Z,dt=st,pt=ct,vt=m.Symbol,yt=lt("wks"),mt=pt?vt.for||vt:vt&&vt.withoutSetter||ht,gt=function(t){return ft(yt,t)||(yt[t]=dt&&ft(vt,t)?vt[t]:mt("Symbol."+t)),yt[t]},bt={};bt[gt("toStringTag")]="z";var wt="[object z]"===String(bt),xt="object"==typeof document&&document.all,Ot={all:xt,IS_HTMLDDA:void 0===xt&&void 0!==xt},kt=Ot.all,St=Ot.IS_HTMLDDA?function(t){return"function"==typeof t||t===kt}:function(t){return"function"==typeof t},jt={},_t=!P((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})),Mt=St,Dt=Ot.all,Pt=Ot.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:Mt(t)||t===Dt}:function(t){return"object"==typeof t?null!==t:Mt(t)},$t=Pt,Et=m.document,Lt=$t(Et)&&$t(Et.createElement),Tt=function(t){return Lt?Et.createElement(t):{}},Ct=Tt,At=!_t&&!P((function(){return 7!==Object.defineProperty(Ct("div"),"a",{get:function(){return 7}}).a})),Rt=_t&&P((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),It=Pt,Nt=String,Wt=TypeError,Yt=function(t){if(It(t))return t;throw new Wt(Nt(t)+" is not an object")},zt=$,Ft=Function.prototype.call,Ht=zt?Ft.bind(Ft):function(){return Ft.apply(Ft,arguments)},Bt=m,Gt=St,Ut=function(t,e){return arguments.length<2?(n=Bt[t],Gt(n)?n:void 0):Bt[t]&&Bt[t][e];var n},qt=A({}.isPrototypeOf),Vt=Ut,Kt=St,Zt=qt,Qt=Object,Jt=ct?function(t){return"symbol"==typeof t}:function(t){var e=Vt("Symbol");return Kt(e)&&Zt(e.prototype,Qt(t))},Xt=String,te=function(t){try{return Xt(t)}catch(t){return"Object"}},ee=St,ne=te,re=TypeError,ie=function(t){if(ee(t))return t;throw new re(ne(t)+" is not a function")},oe=ie,ae=R,ue=function(t,e){var n=t[e];return ae(n)?void 0:oe(n)},se=Ht,ce=St,le=Pt,fe=TypeError,he=Ht,de=Pt,pe=Jt,ve=ue,ye=TypeError,me=gt("toPrimitive"),ge=function(t,e){if(!de(t)||pe(t))return t;var n,r=ve(t,me);if(r){if(void 0===e&&(e="default"),n=he(r,t,e),!de(n)||pe(n))return n;throw new ye("Can't convert object to primitive value")}return void 0===e&&(e="number"),function(t,e){var n,r;if("string"===e&&ce(n=t.toString)&&!le(r=se(n,t)))return r;if(ce(n=t.valueOf)&&!le(r=se(n,t)))return r;if("string"!==e&&ce(n=t.toString)&&!le(r=se(n,t)))return r;throw new fe("Can't convert object to primitive value")}(t,e)},be=Jt,we=function(t){var e=ge(t,"string");return be(e)?e:e+""},xe=_t,Oe=At,ke=Rt,Se=Yt,je=we,_e=TypeError,Me=Object.defineProperty,De=Object.getOwnPropertyDescriptor,Pe="enumerable",$e="configurable",Ee="writable";jt.f=xe?ke?function(t,e,n){if(Se(t),e=je(e),Se(n),"function"==typeof t&&"prototype"===e&&"value"in n&&Ee in n&&!n[Ee]){var r=De(t,e);r&&r[Ee]&&(t[e]=n.value,n={configurable:$e in n?n[$e]:r[$e],enumerable:Pe in n?n[Pe]:r[Pe],writable:!1})}return Me(t,e,n)}:Me:function(t,e,n){if(Se(t),e=je(e),Se(n),Oe)try{return Me(t,e,n)}catch(t){}if("get"in n||"set"in n)throw new _e("Accessors not supported");return"value"in n&&(t[e]=n.value),t};var Le={exports:{}},Te=_t,Ce=G,Ae=Function.prototype,Re=Te&&Object.getOwnPropertyDescriptor,Ie=Ce(Ae,"name"),Ne={EXISTS:Ie,PROPER:Ie&&"something"===function(){}.name,CONFIGURABLE:Ie&&(!Te||Te&&Re(Ae,"name").configurable)},We=St,Ye=S,ze=A(Function.toString);We(Ye.inspectSource)||(Ye.inspectSource=function(t){return ze(t)});var Fe,He,Be,Ge=Ye.inspectSource,Ue=St,qe=m.WeakMap,Ve=Ue(qe)&&/native code/.test(String(qe)),Ke=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},Ze=jt,Qe=Ke,Je=_t?function(t,e,n){return Ze.f(t,e,Qe(1,n))}:function(t,e,n){return t[e]=n,t},Xe=Z,tn=D("keys"),en=function(t){return tn[t]||(tn[t]=Xe(t))},nn={},rn=Ve,on=m,an=Pt,un=Je,sn=G,cn=S,ln=en,fn=nn,hn="Object already initialized",dn=on.TypeError,pn=on.WeakMap;if(rn||cn.state){var vn=cn.state||(cn.state=new pn);vn.get=vn.get,vn.has=vn.has,vn.set=vn.set,Fe=function(t,e){if(vn.has(t))throw new dn(hn);return e.facade=t,vn.set(t,e),e},He=function(t){return vn.get(t)||{}},Be=function(t){return vn.has(t)}}else{var yn=ln("state");fn[yn]=!0,Fe=function(t,e){if(sn(t,yn))throw new dn(hn);return e.facade=t,un(t,yn,e),e},He=function(t){return sn(t,yn)?t[yn]:{}},Be=function(t){return sn(t,yn)}}var mn={set:Fe,get:He,has:Be,enforce:function(t){return Be(t)?He(t):Fe(t,{})},getterFor:function(t){return function(e){var n;if(!an(e)||(n=He(e)).type!==t)throw new dn("Incompatible receiver, "+t+" required");return n}}},gn=A,bn=P,wn=St,xn=G,On=_t,kn=Ne.CONFIGURABLE,Sn=Ge,jn=mn.enforce,_n=mn.get,Mn=String,Dn=Object.defineProperty,Pn=gn("".slice),$n=gn("".replace),En=gn([].join),Ln=On&&!bn((function(){return 8!==Dn((function(){}),"length",{value:8}).length})),Tn=String(String).split("String"),Cn=Le.exports=function(t,e,n){"Symbol("===Pn(Mn(e),0,7)&&(e="["+$n(Mn(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!xn(t,"name")||kn&&t.name!==e)&&(On?Dn(t,"name",{value:e,configurable:!0}):t.name=e),Ln&&n&&xn(n,"arity")&&t.length!==n.arity&&Dn(t,"length",{value:n.arity});try{n&&xn(n,"constructor")&&n.constructor?On&&Dn(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var r=jn(t);return xn(r,"source")||(r.source=En(Tn,"string"==typeof e?e:"")),t};Function.prototype.toString=Cn((function(){return wn(this)&&_n(this).source||Sn(this)}),"toString");var An=Le.exports,Rn=St,In=jt,Nn=An,Wn=x,Yn=function(t,e,n,r){r||(r={});var i=r.enumerable,o=void 0!==r.name?r.name:e;if(Rn(n)&&Nn(n,o,r),r.global)i?t[e]=n:Wn(e,n);else{try{r.unsafe?t[e]&&(i=!0):delete t[e]}catch(t){}i?t[e]=n:In.f(t,e,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return t},zn=A,Fn=zn({}.toString),Hn=zn("".slice),Bn=function(t){return Hn(Fn(t),8,-1)},Gn=wt,Un=St,qn=Bn,Vn=gt("toStringTag"),Kn=Object,Zn="Arguments"===qn(function(){return arguments}()),Qn=Gn?qn:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Kn(t),Vn))?n:Zn?qn(e):"Object"===(r=qn(e))&&Un(e.callee)?"Arguments":r},Jn=Qn,Xn=wt?{}.toString:function(){return"[object "+Jn(this)+"]"};wt||Yn(Object.prototype,"toString",Xn,{unsafe:!0});var tr={},er={},nr={}.propertyIsEnumerable,rr=Object.getOwnPropertyDescriptor,ir=rr&&!nr.call({1:2},1);er.f=ir?function(t){var e=rr(this,t);return!!e&&e.enumerable}:nr;var or=P,ar=Bn,ur=Object,sr=A("".split),cr=or((function(){return!ur("z").propertyIsEnumerable(0)}))?function(t){return"String"===ar(t)?sr(t,""):ur(t)}:ur,lr=cr,fr=W,hr=function(t){return lr(fr(t))},dr=_t,pr=Ht,vr=er,yr=Ke,mr=hr,gr=we,br=G,wr=At,xr=Object.getOwnPropertyDescriptor;tr.f=dr?xr:function(t,e){if(t=mr(t),e=gr(e),wr)try{return xr(t,e)}catch(t){}if(br(t,e))return yr(!pr(vr.f,t,e),t[e])};var Or={},kr=Math.ceil,Sr=Math.floor,jr=Math.trunc||function(t){var e=+t;return(e>0?Sr:kr)(e)},_r=function(t){var e=+t;return e!=e||0===e?0:jr(e)},Mr=_r,Dr=Math.max,Pr=Math.min,$r=function(t,e){var n=Mr(t);return n<0?Dr(n+e,0):Pr(n,e)},Er=_r,Lr=Math.min,Tr=function(t){return t>0?Lr(Er(t),9007199254740991):0},Cr=Tr,Ar=function(t){return Cr(t.length)},Rr=hr,Ir=$r,Nr=Ar,Wr=function(t){return function(e,n,r){var i,o=Rr(e),a=Nr(o),u=Ir(r,a);if(t&&n!=n){for(;a>u;)if((i=o[u++])!=i)return!0}else for(;a>u;u++)if((t||u in o)&&o[u]===n)return t||u||0;return!t&&-1}},Yr={includes:Wr(!0),indexOf:Wr(!1)},zr=G,Fr=hr,Hr=Yr.indexOf,Br=nn,Gr=A([].push),Ur=function(t,e){var n,r=Fr(t),i=0,o=[];for(n in r)!zr(Br,n)&&zr(r,n)&&Gr(o,n);for(;e.length>i;)zr(r,n=e[i++])&&(~Hr(o,n)||Gr(o,n));return o},qr=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Vr=Ur,Kr=qr.concat("length","prototype");Or.f=Object.getOwnPropertyNames||function(t){return Vr(t,Kr)};var Zr={};Zr.f=Object.getOwnPropertySymbols;var Qr=Ut,Jr=Or,Xr=Zr,ti=Yt,ei=A([].concat),ni=Qr("Reflect","ownKeys")||function(t){var e=Jr.f(ti(t)),n=Xr.f;return n?ei(e,n(t)):e},ri=G,ii=ni,oi=tr,ai=jt,ui=P,si=St,ci=/#|\.prototype\./,li=function(t,e){var n=hi[fi(t)];return n===pi||n!==di&&(si(e)?ui(e):!!e)},fi=li.normalize=function(t){return String(t).replace(ci,".").toLowerCase()},hi=li.data={},di=li.NATIVE="N",pi=li.POLYFILL="P",vi=li,yi=m,mi=tr.f,gi=Je,bi=Yn,wi=x,xi=function(t,e,n){for(var r=ii(e),i=ai.f,o=oi.f,a=0;a<r.length;a++){var u=r[a];ri(t,u)||n&&ri(n,u)||i(t,u,o(e,u))}},Oi=vi,ki=function(t,e){var n,r,i,o,a,u=t.target,s=t.global,c=t.stat;if(n=s?yi:c?yi[u]||wi(u,{}):(yi[u]||{}).prototype)for(r in e){if(o=e[r],i=t.dontCallGetSet?(a=mi(n,r))&&a.value:n[r],!Oi(s?r:u+(c?".":"#")+r,t.forced)&&void 0!==i){if(typeof o==typeof i)continue;xi(o,i)}(t.sham||i&&i.sham)&&gi(o,"sham",!0),bi(n,r,o,t)}},Si="process"===Bn(m.process),ji=A,_i=ie,Mi=St,Di=String,Pi=TypeError,$i=Yt,Ei=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=function(t,e,n){try{return ji(_i(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(t){}}(Object.prototype,"__proto__","set"))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return $i(n),function(t){if("object"==typeof t||Mi(t))return t;throw new Pi("Can't set "+Di(t)+" as a prototype")}(r),e?t(n,r):n.__proto__=r,n}}():void 0),Li=jt.f,Ti=G,Ci=gt("toStringTag"),Ai=function(t,e,n){t&&!n&&(t=t.prototype),t&&!Ti(t,Ci)&&Li(t,Ci,{configurable:!0,value:e})},Ri=An,Ii=jt,Ni=function(t,e,n){return n.get&&Ri(n.get,e,{getter:!0}),n.set&&Ri(n.set,e,{setter:!0}),Ii.f(t,e,n)},Wi=Ut,Yi=Ni,zi=_t,Fi=gt("species"),Hi=function(t){var e=Wi(t);zi&&e&&!e[Fi]&&Yi(e,Fi,{configurable:!0,get:function(){return this}})},Bi=qt,Gi=TypeError,Ui=function(t,e){if(Bi(e,t))return t;throw new Gi("Incorrect invocation")},qi=A,Vi=P,Ki=St,Zi=Qn,Qi=Ge,Ji=function(){},Xi=[],to=Ut("Reflect","construct"),eo=/^\s*(?:class|function)\b/,no=qi(eo.exec),ro=!eo.test(Ji),io=function(t){if(!Ki(t))return!1;try{return to(Ji,Xi,t),!0}catch(t){return!1}},oo=function(t){if(!Ki(t))return!1;switch(Zi(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return ro||!!no(eo,Qi(t))}catch(t){return!0}};oo.sham=!0;var ao,uo,so,co,lo=!to||Vi((function(){var t;return io(io.call)||!io(Object)||!io((function(){t=!0}))||t}))?oo:io,fo=lo,ho=te,po=TypeError,vo=Yt,yo=R,mo=gt("species"),go=$,bo=Function.prototype,wo=bo.apply,xo=bo.call,Oo="object"==typeof Reflect&&Reflect.apply||(go?xo.bind(wo):function(){return xo.apply(wo,arguments)}),ko=Bn,So=A,jo=function(t){if("Function"===ko(t))return So(t)},_o=ie,Mo=$,Do=jo(jo.bind),Po=function(t,e){return _o(t),void 0===e?t:Mo?Do(t,e):function(){return t.apply(e,arguments)}},$o=Ut("document","documentElement"),Eo=A([].slice),Lo=TypeError,To=/(?:ipad|iphone|ipod).*applewebkit/i.test(Q),Co=m,Ao=Oo,Ro=Po,Io=St,No=G,Wo=P,Yo=$o,zo=Eo,Fo=Tt,Ho=To,Bo=Si,Go=Co.setImmediate,Uo=Co.clearImmediate,qo=Co.process,Vo=Co.Dispatch,Ko=Co.Function,Zo=Co.MessageChannel,Qo=Co.String,Jo=0,Xo={},ta="onreadystatechange";Wo((function(){ao=Co.location}));var ea=function(t){if(No(Xo,t)){var e=Xo[t];delete Xo[t],e()}},na=function(t){return function(){ea(t)}},ra=function(t){ea(t.data)},ia=function(t){Co.postMessage(Qo(t),ao.protocol+"//"+ao.host)};Go&&Uo||(Go=function(t){!function(t,e){if(t<e)throw new Lo("Not enough arguments")}(arguments.length,1);var e=Io(t)?t:Ko(t),n=zo(arguments,1);return Xo[++Jo]=function(){Ao(e,void 0,n)},uo(Jo),Jo},Uo=function(t){delete Xo[t]},Bo?uo=function(t){qo.nextTick(na(t))}:Vo&&Vo.now?uo=function(t){Vo.now(na(t))}:Zo&&!Ho?(co=(so=new Zo).port2,so.port1.onmessage=ra,uo=Ro(co.postMessage,co)):Co.addEventListener&&Io(Co.postMessage)&&!Co.importScripts&&ao&&"file:"!==ao.protocol&&!Wo(ia)?(uo=ia,Co.addEventListener("message",ra,!1)):uo=ta in Fo("script")?function(t){Yo.appendChild(Fo("script"))[ta]=function(){Yo.removeChild(this),ea(t)}}:function(t){setTimeout(na(t),0)});var oa={set:Go,clear:Uo},aa=function(){this.head=null,this.tail=null};aa.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}};var ua,sa,ca,la,fa,ha=aa,da=/ipad|iphone|ipod/i.test(Q)&&"undefined"!=typeof Pebble,pa=/web0s(?!.*chrome)/i.test(Q),va=m,ya=Po,ma=tr.f,ga=oa.set,ba=ha,wa=To,xa=da,Oa=pa,ka=Si,Sa=va.MutationObserver||va.WebKitMutationObserver,ja=va.document,_a=va.process,Ma=va.Promise,Da=ma(va,"queueMicrotask"),Pa=Da&&Da.value;if(!Pa){var $a=new ba,Ea=function(){var t,e;for(ka&&(t=_a.domain)&&t.exit();e=$a.get();)try{e()}catch(t){throw $a.head&&ua(),t}t&&t.enter()};wa||ka||Oa||!Sa||!ja?!xa&&Ma&&Ma.resolve?((la=Ma.resolve(void 0)).constructor=Ma,fa=ya(la.then,la),ua=function(){fa(Ea)}):ka?ua=function(){_a.nextTick(Ea)}:(ga=ya(ga,va),ua=function(){ga(Ea)}):(sa=!0,ca=ja.createTextNode(""),new Sa(Ea).observe(ca,{characterData:!0}),ua=function(){ca.data=sa=!sa}),Pa=function(t){$a.head||ua(),$a.add(t)}}var La=Pa,Ta=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Ca=m.Promise,Aa="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,Ra=!Aa&&!Si&&"object"==typeof window&&"object"==typeof document,Ia=m,Na=Ca,Wa=St,Ya=vi,za=Ge,Fa=gt,Ha=Ra,Ba=Aa,Ga=it;Na&&Na.prototype;var Ua=Fa("species"),qa=!1,Va=Wa(Ia.PromiseRejectionEvent),Ka=Ya("Promise",(function(){var t=za(Na),e=t!==String(Na);if(!e&&66===Ga)return!0;if(!Ga||Ga<51||!/native code/.test(t)){var n=new Na((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};if((n.constructor={})[Ua]=r,!(qa=n.then((function(){}))instanceof r))return!0}return!e&&(Ha||Ba)&&!Va})),Za={CONSTRUCTOR:Ka,REJECTION_EVENT:Va,SUBCLASSING:qa},Qa={},Ja=ie,Xa=TypeError,tu=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw new Xa("Bad Promise constructor");e=t,n=r})),this.resolve=Ja(e),this.reject=Ja(n)};Qa.f=function(t){return new tu(t)};var eu,nu,ru,iu=ki,ou=Si,au=m,uu=Ht,su=Yn,cu=Ei,lu=Ai,fu=Hi,hu=ie,du=St,pu=Pt,vu=Ui,yu=function(t,e){var n,r=vo(t).constructor;return void 0===r||yo(n=vo(r)[mo])?e:function(t){if(fo(t))return t;throw new po(ho(t)+" is not a constructor")}(n)},mu=oa.set,gu=La,bu=Ta,wu=ha,xu=mn,Ou=Ca,ku=Qa,Su="Promise",ju=Za.CONSTRUCTOR,_u=Za.REJECTION_EVENT,Mu=Za.SUBCLASSING,Du=xu.getterFor(Su),Pu=xu.set,$u=Ou&&Ou.prototype,Eu=Ou,Lu=$u,Tu=au.TypeError,Cu=au.document,Au=au.process,Ru=ku.f,Iu=Ru,Nu=!!(Cu&&Cu.createEvent&&au.dispatchEvent),Wu="unhandledrejection",Yu=function(t){var e;return!(!pu(t)||!du(e=t.then))&&e},zu=function(t,e){var n,r,i,o=e.value,a=1===e.state,u=a?t.ok:t.fail,s=t.resolve,c=t.reject,l=t.domain;try{u?(a||(2===e.rejection&&Uu(e),e.rejection=1),!0===u?n=o:(l&&l.enter(),n=u(o),l&&(l.exit(),i=!0)),n===t.promise?c(new Tu("Promise-chain cycle")):(r=Yu(n))?uu(r,n,s,c):s(n)):c(o)}catch(t){l&&!i&&l.exit(),c(t)}},Fu=function(t,e){t.notified||(t.notified=!0,gu((function(){for(var n,r=t.reactions;n=r.get();)zu(n,t);t.notified=!1,e&&!t.rejection&&Bu(t)})))},Hu=function(t,e,n){var r,i;Nu?((r=Cu.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),au.dispatchEvent(r)):r={promise:e,reason:n},!_u&&(i=au["on"+t])?i(r):t===Wu&&function(t,e){try{1===arguments.length?console.error(t):console.error(t,e)}catch(t){}}("Unhandled promise rejection",n)},Bu=function(t){uu(mu,au,(function(){var e,n=t.facade,r=t.value;if(Gu(t)&&(e=bu((function(){ou?Au.emit("unhandledRejection",r,n):Hu(Wu,n,r)})),t.rejection=ou||Gu(t)?2:1,e.error))throw e.value}))},Gu=function(t){return 1!==t.rejection&&!t.parent},Uu=function(t){uu(mu,au,(function(){var e=t.facade;ou?Au.emit("rejectionHandled",e):Hu("rejectionhandled",e,t.value)}))},qu=function(t,e,n){return function(r){t(e,r,n)}},Vu=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,Fu(t,!0))},Ku=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw new Tu("Promise can't be resolved itself");var r=Yu(e);r?gu((function(){var n={done:!1};try{uu(r,e,qu(Ku,n,t),qu(Vu,n,t))}catch(e){Vu(n,e,t)}})):(t.value=e,t.state=1,Fu(t,!1))}catch(e){Vu({done:!1},e,t)}}};if(ju&&(Lu=(Eu=function(t){vu(this,Lu),hu(t),uu(eu,this);var e=Du(this);try{t(qu(Ku,e),qu(Vu,e))}catch(t){Vu(e,t)}}).prototype,(eu=function(t){Pu(this,{type:Su,done:!1,notified:!1,parent:!1,reactions:new wu,rejection:!1,state:0,value:void 0})}).prototype=su(Lu,"then",(function(t,e){var n=Du(this),r=Ru(yu(this,Eu));return n.parent=!0,r.ok=!du(t)||t,r.fail=du(e)&&e,r.domain=ou?Au.domain:void 0,0===n.state?n.reactions.add(r):gu((function(){zu(r,n)})),r.promise})),nu=function(){var t=new eu,e=Du(t);this.promise=t,this.resolve=qu(Ku,e),this.reject=qu(Vu,e)},ku.f=Ru=function(t){return t===Eu||void 0===t?new nu(t):Iu(t)},du(Ou)&&$u!==Object.prototype)){ru=$u.then,Mu||su($u,"then",(function(t,e){var n=this;return new Eu((function(t,e){uu(ru,n,t,e)})).then(t,e)}),{unsafe:!0});try{delete $u.constructor}catch(t){}cu&&cu($u,Lu)}iu({global:!0,constructor:!0,wrap:!0,forced:ju},{Promise:Eu}),lu(Eu,Su,!1),fu(Su);var Zu={},Qu=Zu,Ju=gt("iterator"),Xu=Array.prototype,ts=function(t){return void 0!==t&&(Qu.Array===t||Xu[Ju]===t)},es=Qn,ns=ue,rs=R,is=Zu,os=gt("iterator"),as=function(t){if(!rs(t))return ns(t,os)||ns(t,"@@iterator")||is[es(t)]},us=Ht,ss=ie,cs=Yt,ls=te,fs=as,hs=TypeError,ds=function(t,e){var n=arguments.length<2?fs(t):e;if(ss(n))return cs(us(n,t));throw new hs(ls(t)+" is not iterable")},ps=Ht,vs=Yt,ys=ue,ms=function(t,e,n){var r,i;vs(t);try{if(!(r=ys(t,"return"))){if("throw"===e)throw n;return n}r=ps(r,t)}catch(t){i=!0,r=t}if("throw"===e)throw n;if(i)throw r;return vs(r),n},gs=Po,bs=Ht,ws=Yt,xs=te,Os=ts,ks=Ar,Ss=qt,js=ds,_s=as,Ms=ms,Ds=TypeError,Ps=function(t,e){this.stopped=t,this.result=e},$s=Ps.prototype,Es=function(t,e,n){var r,i,o,a,u,s,c,l=n&&n.that,f=!(!n||!n.AS_ENTRIES),h=!(!n||!n.IS_RECORD),d=!(!n||!n.IS_ITERATOR),p=!(!n||!n.INTERRUPTED),v=gs(e,l),y=function(t){return r&&Ms(r,"normal",t),new Ps(!0,t)},m=function(t){return f?(ws(t),p?v(t[0],t[1],y):v(t[0],t[1])):p?v(t,y):v(t)};if(h)r=t.iterator;else if(d)r=t;else{if(!(i=_s(t)))throw new Ds(xs(t)+" is not iterable");if(Os(i)){for(o=0,a=ks(t);a>o;o++)if((u=m(t[o]))&&Ss($s,u))return u;return new Ps(!1)}r=js(t,i)}for(s=h?t.next:r.next;!(c=bs(s,r)).done;){try{u=m(c.value)}catch(t){Ms(r,"throw",t)}if("object"==typeof u&&u&&Ss($s,u))return u}return new Ps(!1)},Ls=gt("iterator"),Ts=!1;try{var Cs=0,As={next:function(){return{done:!!Cs++}},return:function(){Ts=!0}};As[Ls]=function(){return this},Array.from(As,(function(){throw 2}))}catch(t){}var Rs=function(t,e){try{if(!e&&!Ts)return!1}catch(t){return!1}var n=!1;try{var r={};r[Ls]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n},Is=Ca,Ns=Za.CONSTRUCTOR||!Rs((function(t){Is.all(t).then(void 0,(function(){}))})),Ws=Ht,Ys=ie,zs=Qa,Fs=Ta,Hs=Es;ki({target:"Promise",stat:!0,forced:Ns},{all:function(t){var e=this,n=zs.f(e),r=n.resolve,i=n.reject,o=Fs((function(){var n=Ys(e.resolve),o=[],a=0,u=1;Hs(t,(function(t){var s=a++,c=!1;u++,Ws(n,e,t).then((function(t){c||(c=!0,o[s]=t,--u||r(o))}),i)})),--u||r(o)}));return o.error&&i(o.value),n.promise}});var Bs=ki,Gs=Za.CONSTRUCTOR,Us=Ca,qs=Ut,Vs=St,Ks=Yn,Zs=Us&&Us.prototype;if(Bs({target:"Promise",proto:!0,forced:Gs,real:!0},{catch:function(t){return this.then(void 0,t)}}),Vs(Us)){var Qs=qs("Promise").prototype.catch;Zs.catch!==Qs&&Ks(Zs,"catch",Qs,{unsafe:!0})}var Js=Ht,Xs=ie,tc=Qa,ec=Ta,nc=Es;ki({target:"Promise",stat:!0,forced:Ns},{race:function(t){var e=this,n=tc.f(e),r=n.reject,i=ec((function(){var i=Xs(e.resolve);nc(t,(function(t){Js(i,e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});var rc=Ht,ic=Qa;ki({target:"Promise",stat:!0,forced:Za.CONSTRUCTOR},{reject:function(t){var e=ic.f(this);return rc(e.reject,void 0,t),e.promise}});var oc=Yt,ac=Pt,uc=Qa,sc=ki,cc=Za.CONSTRUCTOR;Ut("Promise"),sc({target:"Promise",stat:!0,forced:cc},{resolve:function(t){return function(t,e){if(oc(t),ac(e)&&e.constructor===t)return e;var n=uc.f(t);return(0,n.resolve)(e),n.promise}(this,t)}});var lc={},fc=Ur,hc=qr,dc=Object.keys||function(t){return fc(t,hc)},pc=_t,vc=Rt,yc=jt,mc=Yt,gc=hr,bc=dc;lc.f=pc&&!vc?Object.defineProperties:function(t,e){mc(t);for(var n,r=gc(e),i=bc(e),o=i.length,a=0;o>a;)yc.f(t,n=i[a++],r[n]);return t};var wc,xc=Yt,Oc=lc,kc=qr,Sc=nn,jc=$o,_c=Tt,Mc="prototype",Dc="script",Pc=en("IE_PROTO"),$c=function(){},Ec=function(t){return"<"+Dc+">"+t+"</"+Dc+">"},Lc=function(t){t.write(Ec("")),t.close();var e=t.parentWindow.Object;return t=null,e},Tc=function(){try{wc=new ActiveXObject("htmlfile")}catch(t){}var t,e,n;Tc="undefined"!=typeof document?document.domain&&wc?Lc(wc):(e=_c("iframe"),n="java"+Dc+":",e.style.display="none",jc.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(Ec("document.F=Object")),t.close(),t.F):Lc(wc);for(var r=kc.length;r--;)delete Tc[Mc][kc[r]];return Tc()};Sc[Pc]=!0;var Cc=Object.create||function(t,e){var n;return null!==t?($c[Mc]=xc(t),n=new $c,$c[Mc]=null,n[Pc]=t):n=Tc(),void 0===e?n:Oc.f(n,e)},Ac=gt,Rc=Cc,Ic=jt.f,Nc=Ac("unscopables"),Wc=Array.prototype;void 0===Wc[Nc]&&Ic(Wc,Nc,{configurable:!0,value:Rc(null)});var Yc,zc,Fc,Hc=function(t){Wc[Nc][t]=!0},Bc=!P((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Gc=G,Uc=St,qc=F,Vc=Bc,Kc=en("IE_PROTO"),Zc=Object,Qc=Zc.prototype,Jc=Vc?Zc.getPrototypeOf:function(t){var e=qc(t);if(Gc(e,Kc))return e[Kc];var n=e.constructor;return Uc(n)&&e instanceof n?n.prototype:e instanceof Zc?Qc:null},Xc=P,tl=St,el=Pt,nl=Jc,rl=Yn,il=gt("iterator"),ol=!1;[].keys&&("next"in(Fc=[].keys())?(zc=nl(nl(Fc)))!==Object.prototype&&(Yc=zc):ol=!0);var al=!el(Yc)||Xc((function(){var t={};return Yc[il].call(t)!==t}));al&&(Yc={}),tl(Yc[il])||rl(Yc,il,(function(){return this}));var ul={IteratorPrototype:Yc,BUGGY_SAFARI_ITERATORS:ol},sl=ul.IteratorPrototype,cl=Cc,ll=Ke,fl=Ai,hl=Zu,dl=function(){return this},pl=ki,vl=Ht,yl=St,ml=Jc,gl=Ei,bl=Ai,wl=Je,xl=Yn,Ol=Zu,kl=Ne.PROPER,Sl=Ne.CONFIGURABLE,jl=ul.IteratorPrototype,_l=ul.BUGGY_SAFARI_ITERATORS,Ml=gt("iterator"),Dl="keys",Pl="values",$l="entries",El=function(){return this},Ll=function(t,e,n,r,i,o,a){!function(t,e,n,r){var i=e+" Iterator";t.prototype=cl(sl,{next:ll(+!r,n)}),fl(t,i,!1),hl[i]=dl}(n,e,r);var u,s,c,l=function(t){if(t===i&&v)return v;if(!_l&&t&&t in d)return d[t];switch(t){case Dl:case Pl:case $l:return function(){return new n(this,t)}}return function(){return new n(this)}},f=e+" Iterator",h=!1,d=t.prototype,p=d[Ml]||d["@@iterator"]||i&&d[i],v=!_l&&p||l(i),y="Array"===e&&d.entries||p;if(y&&(u=ml(y.call(new t)))!==Object.prototype&&u.next&&(ml(u)!==jl&&(gl?gl(u,jl):yl(u[Ml])||xl(u,Ml,El)),bl(u,f,!0)),kl&&i===Pl&&p&&p.name!==Pl&&(Sl?wl(d,"name",Pl):(h=!0,v=function(){return vl(p,this)})),i)if(s={values:l(Pl),keys:o?v:l(Dl),entries:l($l)},a)for(c in s)(_l||h||!(c in d))&&xl(d,c,s[c]);else pl({target:e,proto:!0,forced:_l||h},s);return d[Ml]!==v&&xl(d,Ml,v,{name:i}),Ol[e]=v,s},Tl=function(t,e){return{value:t,done:e}},Cl=hr,Al=Hc,Rl=Zu,Il=mn,Nl=jt.f,Wl=Ll,Yl=Tl,zl=_t,Fl="Array Iterator",Hl=Il.set,Bl=Il.getterFor(Fl),Gl=Wl(Array,"Array",(function(t,e){Hl(this,{type:Fl,target:Cl(t),index:0,kind:e})}),(function(){var t=Bl(this),e=t.target,n=t.index++;if(!e||n>=e.length)return t.target=void 0,Yl(void 0,!0);switch(t.kind){case"keys":return Yl(n,!1);case"values":return Yl(e[n],!1)}return Yl([n,e[n]],!1)}),"values"),Ul=Rl.Arguments=Rl.Array;if(Al("keys"),Al("values"),Al("entries"),zl&&"values"!==Ul.name)try{Nl(Ul,"name",{value:"values"})}catch(t){}var ql=Ht,Vl=ie,Kl=Qa,Zl=Ta,Ql=Es;ki({target:"Promise",stat:!0,forced:Ns},{allSettled:function(t){var e=this,n=Kl.f(e),r=n.resolve,i=n.reject,o=Zl((function(){var n=Vl(e.resolve),i=[],o=0,a=1;Ql(t,(function(t){var u=o++,s=!1;a++,ql(n,e,t).then((function(t){s||(s=!0,i[u]={status:"fulfilled",value:t},--a||r(i))}),(function(t){s||(s=!0,i[u]={status:"rejected",reason:t},--a||r(i))}))})),--a||r(i)}));return o.error&&i(o.value),n.promise}});var Jl=Qn,Xl=String,tf=function(t){if("Symbol"===Jl(t))throw new TypeError("Cannot convert a Symbol value to a string");return Xl(t)},ef=A,nf=_r,rf=tf,of=W,af=ef("".charAt),uf=ef("".charCodeAt),sf=ef("".slice),cf=function(t){return function(e,n){var r,i,o=rf(of(e)),a=nf(n),u=o.length;return a<0||a>=u?t?"":void 0:(r=uf(o,a))<55296||r>56319||a+1===u||(i=uf(o,a+1))<56320||i>57343?t?af(o,a):r:t?sf(o,a,a+2):i-56320+(r-55296<<10)+65536}},lf={codeAt:cf(!1),charAt:cf(!0)},ff=lf.charAt,hf=tf,df=mn,pf=Ll,vf=Tl,yf="String Iterator",mf=df.set,gf=df.getterFor(yf);pf(String,"String",(function(t){mf(this,{type:yf,string:hf(t),index:0})}),(function(){var t,e=gf(this),n=e.string,r=e.index;return r>=n.length?vf(void 0,!0):(t=ff(n,r),e.index+=t.length,vf(t,!1))}));var bf={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},wf=Tt("span").classList,xf=wf&&wf.constructor&&wf.constructor.prototype,Of=xf===Object.prototype?void 0:xf,kf=m,Sf=bf,jf=Of,_f=Gl,Mf=Je,Df=Ai,Pf=gt("iterator"),$f=_f.values,Ef=function(t,e){if(t){if(t[Pf]!==$f)try{Mf(t,Pf,$f)}catch(e){t[Pf]=$f}if(Df(t,e,!0),Sf[e])for(var n in _f)if(t[n]!==_f[n])try{Mf(t,n,_f[n])}catch(e){t[n]=_f[n]}}};for(var Lf in Sf)Ef(kf[Lf]&&kf[Lf].prototype,Lf);Ef(jf,"DOMTokenList");var Tf=F,Cf=$r,Af=Ar,Rf=Hc;ki({target:"Array",proto:!0},{fill:function(t){for(var e=Tf(this),n=Af(e),r=arguments.length,i=Cf(r>1?arguments[1]:void 0,n),o=r>2?arguments[2]:void 0,a=void 0===o?n:Cf(o,n);a>i;)e[i++]=t;return e}}),Rf("fill");var If=Bn,Nf=Array.isArray||function(t){return"Array"===If(t)},Wf=we,Yf=jt,zf=Ke,Ff=function(t,e,n){var r=Wf(e);r in t?Yf.f(t,r,zf(0,n)):t[r]=n},Hf=P,Bf=it,Gf=gt("species"),Uf=function(t){return Bf>=51||!Hf((function(){var e=[];return(e.constructor={})[Gf]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},qf=ki,Vf=Nf,Kf=lo,Zf=Pt,Qf=$r,Jf=Ar,Xf=hr,th=Ff,eh=gt,nh=Eo,rh=Uf("slice"),ih=eh("species"),oh=Array,ah=Math.max;function uh(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function u(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))}function sh(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)}qf({target:"Array",proto:!0,forced:!rh},{slice:function(t,e){var n,r,i,o=Xf(this),a=Jf(o),u=Qf(t,a),s=Qf(void 0===e?a:e,a);if(Vf(o)&&(n=o.constructor,(Kf(n)&&(n===oh||Vf(n.prototype))||Zf(n)&&null===(n=n[ih]))&&(n=void 0),n===oh||void 0===n))return nh(o,u,s);for(r=new(void 0===n?oh:n)(ah(s-u,0)),i=0;u<s;u++,i++)u in o&&th(r,i,o[u]);return r.length=i,r}});var ch={exports:{}};!function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(t,e,r,o,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var u=new i(r,o||t,a),s=n?n+e:e;return t._events[s]?t._events[s].fn?t._events[s]=[t._events[s],u]:t._events[s].push(u):(t._events[s]=u,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function u(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),u.prototype.eventNames=function(){var t,r,i=[];if(0===this._eventsCount)return i;for(r in t=this._events)e.call(t,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},u.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},u.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},u.prototype.emit=function(t,e,r,i,o,a){var u=n?n+t:t;if(!this._events[u])return!1;var s,c,l=this._events[u],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,i),!0;case 5:return l.fn.call(l.context,e,r,i,o),!0;case 6:return l.fn.call(l.context,e,r,i,o,a),!0}for(c=1,s=new Array(f-1);c<f;c++)s[c-1]=arguments[c];l.fn.apply(l.context,s)}else{var h,d=l.length;for(c=0;c<d;c++)switch(l[c].once&&this.removeListener(t,l[c].fn,void 0,!0),f){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,e);break;case 3:l[c].fn.call(l[c].context,e,r);break;case 4:l[c].fn.call(l[c].context,e,r,i);break;default:if(!s)for(h=1,s=new Array(f-1);h<f;h++)s[h-1]=arguments[h];l[c].fn.apply(l[c].context,s)}}return!0},u.prototype.on=function(t,e,n){return o(this,t,e,n,!1)},u.prototype.once=function(t,e,n){return o(this,t,e,n,!0)},u.prototype.removeListener=function(t,e,r,i){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return a(this,o),this;var u=this._events[o];if(u.fn)u.fn!==e||i&&!u.once||r&&u.context!==r||a(this,o);else{for(var s=0,c=[],l=u.length;s<l;s++)(u[s].fn!==e||i&&!u[s].once||r&&u[s].context!==r)&&c.push(u[s]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},u.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&a(this,e)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u}(ch);var lh=v(ch.exports),fh=Array.isArray;function hh(){if(!arguments.length)return[];var t=arguments[0];return fh(t)?t:[t]}var dh=Nf,ph=lo,vh=Pt,yh=gt("species"),mh=Array,gh=function(t,e){return new(function(t){var e;return dh(t)&&(e=t.constructor,(ph(e)&&(e===mh||dh(e.prototype))||vh(e)&&null===(e=e[yh]))&&(e=void 0)),void 0===e?mh:e}(t))(0===e?0:e)},bh=Po,wh=cr,xh=F,Oh=Ar,kh=gh,Sh=A([].push),jh=function(t){var e=1===t,n=2===t,r=3===t,i=4===t,o=6===t,a=7===t,u=5===t||o;return function(s,c,l,f){for(var h,d,p=xh(s),v=wh(p),y=Oh(v),m=bh(c,l),g=0,b=f||kh,w=e?b(s,y):n||a?b(s,0):void 0;y>g;g++)if((u||g in v)&&(d=m(h=v[g],g,p),t))if(e)w[g]=d;else if(d)switch(t){case 3:return!0;case 5:return h;case 6:return g;case 2:Sh(w,h)}else switch(t){case 4:return!1;case 7:Sh(w,h)}return o?-1:r||i?i:w}},_h={forEach:jh(0),map:jh(1),filter:jh(2),some:jh(3),every:jh(4),find:jh(5),findIndex:jh(6),filterReject:jh(7)},Mh=_h.map;ki({target:"Array",proto:!0,forced:!Uf("map")},{map:function(t){return Mh(this,t,arguments.length>1?arguments[1]:void 0)}});var Dh=_t,Ph=A,$h=Ht,Eh=P,Lh=dc,Th=Zr,Ch=er,Ah=F,Rh=cr,Ih=Object.assign,Nh=Object.defineProperty,Wh=Ph([].concat),Yh=!Ih||Eh((function(){if(Dh&&1!==Ih({b:1},Ih(Nh({},"a",{enumerable:!0,get:function(){Nh(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol("assign detection"),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!==Ih({},t)[n]||Lh(Ih({},e)).join("")!==r}))?function(t,e){for(var n=Ah(t),r=arguments.length,i=1,o=Th.f,a=Ch.f;r>i;)for(var u,s=Rh(arguments[i++]),c=o?Wh(Lh(s),o(s)):Lh(s),l=c.length,f=0;l>f;)u=c[f++],Dh&&!$h(a,s,u)||(n[u]=s[u]);return n}:Ih,zh=Yh;ki({target:"Object",stat:!0,arity:2,forced:Object.assign!==zh},{assign:zh});var Fh={exports:{}},Hh={},Bh=$r,Gh=Ar,Uh=Ff,qh=Array,Vh=Math.max,Kh=function(t,e,n){for(var r=Gh(t),i=Bh(e,r),o=Bh(void 0===n?r:n,r),a=qh(Vh(o-i,0)),u=0;i<o;i++,u++)Uh(a,u,t[i]);return a.length=u,a},Zh=Bn,Qh=hr,Jh=Or.f,Xh=Kh,td="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Hh.f=function(t){return td&&"Window"===Zh(t)?function(t){try{return Jh(t)}catch(t){return Xh(td)}}(t):Jh(Qh(t))};var ed=P((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})),nd=P,rd=Pt,id=Bn,od=ed,ad=Object.isExtensible,ud=nd((function(){ad(1)}))||od?function(t){return!!rd(t)&&(!od||"ArrayBuffer"!==id(t))&&(!ad||ad(t))}:ad,sd=!P((function(){return Object.isExtensible(Object.preventExtensions({}))})),cd=ki,ld=A,fd=nn,hd=Pt,dd=G,pd=jt.f,vd=Or,yd=Hh,md=ud,gd=sd,bd=!1,wd=Z("meta"),xd=0,Od=function(t){pd(t,wd,{value:{objectID:"O"+xd++,weakData:{}}})},kd=Fh.exports={enable:function(){kd.enable=function(){},bd=!0;var t=vd.f,e=ld([].splice),n={};n[wd]=1,t(n).length&&(vd.f=function(n){for(var r=t(n),i=0,o=r.length;i<o;i++)if(r[i]===wd){e(r,i,1);break}return r},cd({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:yd.f}))},fastKey:function(t,e){if(!hd(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!dd(t,wd)){if(!md(t))return"F";if(!e)return"E";Od(t)}return t[wd].objectID},getWeakData:function(t,e){if(!dd(t,wd)){if(!md(t))return!0;if(!e)return!1;Od(t)}return t[wd].weakData},onFreeze:function(t){return gd&&bd&&md(t)&&!dd(t,wd)&&Od(t),t}};fd[wd]=!0;var Sd=Fh.exports,jd=St,_d=Pt,Md=Ei,Dd=ki,Pd=m,$d=A,Ed=vi,Ld=Yn,Td=Sd,Cd=Es,Ad=Ui,Rd=St,Id=R,Nd=Pt,Wd=P,Yd=Rs,zd=Ai,Fd=function(t,e,n){var r=-1!==t.indexOf("Map"),i=-1!==t.indexOf("Weak"),o=r?"set":"add",a=Pd[t],u=a&&a.prototype,s=a,c={},l=function(t){var e=$d(u[t]);Ld(u,t,"add"===t?function(t){return e(this,0===t?0:t),this}:"delete"===t?function(t){return!(i&&!Nd(t))&&e(this,0===t?0:t)}:"get"===t?function(t){return i&&!Nd(t)?void 0:e(this,0===t?0:t)}:"has"===t?function(t){return!(i&&!Nd(t))&&e(this,0===t?0:t)}:function(t,n){return e(this,0===t?0:t,n),this})};if(Ed(t,!Rd(a)||!(i||u.forEach&&!Wd((function(){(new a).entries().next()})))))s=n.getConstructor(e,t,r,o),Td.enable();else if(Ed(t,!0)){var f=new s,h=f[o](i?{}:-0,1)!==f,d=Wd((function(){f.has(1)})),p=Yd((function(t){new a(t)})),v=!i&&Wd((function(){for(var t=new a,e=5;e--;)t[o](e,e);return!t.has(-0)}));p||((s=e((function(t,e){Ad(t,u);var n=function(t,e,n){var r,i;return Md&&jd(r=e.constructor)&&r!==n&&_d(i=r.prototype)&&i!==n.prototype&&Md(t,i),t}(new a,t,s);return Id(e)||Cd(e,n[o],{that:n,AS_ENTRIES:r}),n}))).prototype=u,u.constructor=s),(d||v)&&(l("delete"),l("has"),r&&l("get")),(v||h)&&l(o),i&&u.clear&&delete u.clear}return c[t]=s,Dd({global:!0,constructor:!0,forced:s!==a},c),zd(s,t),i||n.setStrong(s,t,r),s},Hd=Yn,Bd=function(t,e,n){for(var r in e)Hd(t,r,e[r],n);return t},Gd=A,Ud=Bd,qd=Sd.getWeakData,Vd=Ui,Kd=Yt,Zd=R,Qd=Pt,Jd=Es,Xd=G,tp=mn.set,ep=mn.getterFor,np=_h.find,rp=_h.findIndex,ip=Gd([].splice),op=0,ap=function(t){return t.frozen||(t.frozen=new up)},up=function(){this.entries=[]},sp=function(t,e){return np(t.entries,(function(t){return t[0]===e}))};up.prototype={get:function(t){var e=sp(this,t);if(e)return e[1]},has:function(t){return!!sp(this,t)},set:function(t,e){var n=sp(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=rp(this.entries,(function(e){return e[0]===t}));return~e&&ip(this.entries,e,1),!!~e}};var cp,lp,fp={getConstructor:function(t,e,n,r){var i=t((function(t,i){Vd(t,o),tp(t,{type:e,id:op++,frozen:void 0}),Zd(i)||Jd(i,t[r],{that:t,AS_ENTRIES:n})})),o=i.prototype,a=ep(e),u=function(t,e,n){var r=a(t),i=qd(Kd(e),!0);return!0===i?ap(r).set(e,n):i[r.id]=n,t};return Ud(o,{delete:function(t){var e=a(this);if(!Qd(t))return!1;var n=qd(t);return!0===n?ap(e).delete(t):n&&Xd(n,e.id)&&delete n[e.id]},has:function(t){var e=a(this);if(!Qd(t))return!1;var n=qd(t);return!0===n?ap(e).has(t):n&&Xd(n,e.id)}}),Ud(o,n?{get:function(t){var e=a(this);if(Qd(t)){var n=qd(t);return!0===n?ap(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return u(this,t,e)}}:{add:function(t){return u(this,t,!0)}}),i}};Fd("WeakSet",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),fp),function(t){t[t.SCROLL_NONE=0]="SCROLL_NONE",t[t.SCROLL_BACKWARD=1]="SCROLL_BACKWARD",t[t.SCROLL_FORWARD=2]="SCROLL_FORWARD"}(cp||(cp={})),function(t){t[t.TOP=0]="TOP",t[t.RIGHT=1]="RIGHT",t[t.BOTTOM=2]="BOTTOM",t[t.LEFT=3]="LEFT"}(lp||(lp={}));var hp,dp,pp,vp=[0,100],yp=function(){function t(e){a(this,t),hp.add(this),this.calendar=e,this.maxDomainReached=!1,this.minDomainReached=!1}return s(t,[{key:"loadNewDomains",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cp.SCROLL_NONE,r=this.calendar.options.options,i=this.calendar.templateCollection,o=r.date.min?i.get(r.domain.type).extractUnit(+r.date.min):void 0,a=r.date.max?i.get(r.domain.type).extractUnit(+r.date.max):void 0,u=this.calendar.domainCollection;return sh(this,hp,"m",dp).call(this,t,o,a,n)?cp.SCROLL_NONE:(n!==cp.SCROLL_NONE&&t.clamp(o,a).slice(r.range,n===cp.SCROLL_FORWARD),u.merge(t,r.range,(function(n,o){var a;return a=t.at(o+1)?t.at(o+1):e.calendar.dateHelper.intervals(r.domain.type,n,2).pop(),i.get(r.subDomain.type).mapping(n,a).map((function(t){return Object.assign(Object.assign({},t),{v:r.data.defaultValue})}))})),sh(this,hp,"m",pp).call(this,u.min,u.max,o,a),n===cp.SCROLL_BACKWARD?this.calendar.eventEmitter.emit("domainsLoaded",[u.min]):n===cp.SCROLL_FORWARD&&this.calendar.eventEmitter.emit("domainsLoaded",[u.max]),n)}},{key:"jumpTo",value:function(t,e){var n=this.calendar,r=n.domainCollection,i=n.options,o=new Date(r.min),a=new Date(r.max);return t<o?this.loadNewDomains(this.calendar.createDomainCollection(t,o,!1),cp.SCROLL_BACKWARD):e?this.loadNewDomains(this.calendar.createDomainCollection(t,i.options.range),o<t?cp.SCROLL_FORWARD:cp.SCROLL_BACKWARD):t>a?this.loadNewDomains(this.calendar.createDomainCollection(a,t,!1),cp.SCROLL_FORWARD):cp.SCROLL_NONE}}]),t}();hp=new WeakSet,dp=function(t,e,n,r){return!!(n&&t.max>=n&&this.maxDomainReached&&r===cp.SCROLL_FORWARD)||!!(e&&t.min<=e&&this.minDomainReached&&r===cp.SCROLL_BACKWARD)},pp=function(t,e,n,r){if(n){var i=t<=n;this.calendar.eventEmitter.emit(i?"minDateReached":"minDateNotReached"),this.minDomainReached=i}if(r){var o=e>=r;this.calendar.eventEmitter.emit(o?"maxDateReached":"maxDateNotReached"),this.maxDomainReached=o}};var mp=TypeError,gp=ki,bp=P,wp=Nf,xp=Pt,Op=F,kp=Ar,Sp=function(t){if(t>9007199254740991)throw mp("Maximum allowed index exceeded");return t},jp=Ff,_p=gh,Mp=Uf,Dp=it,Pp=gt("isConcatSpreadable"),$p=Dp>=51||!bp((function(){var t=[];return t[Pp]=!1,t.concat()[0]!==t})),Ep=function(t){if(!xp(t))return!1;var e=t[Pp];return void 0!==e?!!e:wp(t)};gp({target:"Array",proto:!0,arity:1,forced:!$p||!Mp("concat")},{concat:function(t){var e,n,r,i,o,a=Op(this),u=_p(a,0),s=0;for(e=-1,r=arguments.length;e<r;e++)if(Ep(o=-1===e?a:arguments[e]))for(i=kp(o),Sp(s+i),n=0;n<i;n++,s++)n in o&&jp(u,s,o[n]);else Sp(s+1),jp(u,s++,o);return u.length=s,u}});var Lp=P,Tp=function(t,e){var n=[][t];return!!n&&Lp((function(){n.call(null,e||function(){return 1},1)}))},Cp=ki,Ap=cr,Rp=hr,Ip=Tp,Np=A([].join);Cp({target:"Array",proto:!0,forced:Ap!==Object||!Ip("join",",")},{join:function(t){return Np(Rp(this),void 0===t?",":t)}});var Wp=Cc,Yp=Ni,zp=Bd,Fp=Po,Hp=Ui,Bp=R,Gp=Es,Up=Ll,qp=Tl,Vp=Hi,Kp=_t,Zp=Sd.fastKey,Qp=mn.set,Jp=mn.getterFor,Xp={getConstructor:function(t,e,n,r){var i=t((function(t,i){Hp(t,o),Qp(t,{type:e,index:Wp(null),first:void 0,last:void 0,size:0}),Kp||(t.size=0),Bp(i)||Gp(i,t[r],{that:t,AS_ENTRIES:n})})),o=i.prototype,a=Jp(e),u=function(t,e,n){var r,i,o=a(t),u=s(t,e);return u?u.value=n:(o.last=u={index:i=Zp(e,!0),key:e,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=u),r&&(r.next=u),Kp?o.size++:t.size++,"F"!==i&&(o.index[i]=u)),t},s=function(t,e){var n,r=a(t),i=Zp(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key===e)return n};return zp(o,{clear:function(){for(var t=a(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,Kp?t.size=0:this.size=0},delete:function(t){var e=this,n=a(e),r=s(e,t);if(r){var i=r.next,o=r.previous;delete n.index[r.index],r.removed=!0,o&&(o.next=i),i&&(i.previous=o),n.first===r&&(n.first=i),n.last===r&&(n.last=o),Kp?n.size--:e.size--}return!!r},forEach:function(t){for(var e,n=a(this),r=Fp(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!s(this,t)}}),zp(o,n?{get:function(t){var e=s(this,t);return e&&e.value},set:function(t,e){return u(this,0===t?0:t,e)}}:{add:function(t){return u(this,t=0===t?0:t,t)}}),Kp&&Yp(o,"size",{configurable:!0,get:function(){return a(this).size}}),i},setStrong:function(t,e,n){var r=e+" Iterator",i=Jp(e),o=Jp(r);Up(t,e,(function(t,e){Qp(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?qp("keys"===e?n.key:"values"===e?n.value:[n.key,n.value],!1):(t.target=void 0,qp(void 0,!0))}),n?"entries":"values",!n,!0),Vp(e)}};Fd("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),Xp);var tv=te,ev=TypeError,nv=Kh,rv=Math.floor,iv=function(t,e){var n=t.length,r=rv(n/2);return n<8?ov(t,e):av(t,iv(nv(t,0,r),e),iv(nv(t,r),e),e)},ov=function(t,e){for(var n,r,i=t.length,o=1;o<i;){for(r=o,n=t[o];r&&e(t[r-1],n)>0;)t[r]=t[--r];r!==o++&&(t[r]=n)}return t},av=function(t,e,n,r){for(var i=e.length,o=n.length,a=0,u=0;a<i||u<o;)t[a+u]=a<i&&u<o?r(e[a],n[u])<=0?e[a++]:n[u++]:a<i?e[a++]:n[u++];return t},uv=iv,sv=Q.match(/firefox\/(\d+)/i),cv=!!sv&&+sv[1],lv=/MSIE|Trident/.test(Q),fv=Q.match(/AppleWebKit\/(\d+)\./),hv=!!fv&&+fv[1],dv=ki,pv=A,vv=ie,yv=F,mv=Ar,gv=function(t,e){if(!delete t[e])throw new ev("Cannot delete property "+tv(e)+" of "+tv(t))},bv=tf,wv=P,xv=uv,Ov=Tp,kv=cv,Sv=lv,jv=it,_v=hv,Mv=[],Dv=pv(Mv.sort),Pv=pv(Mv.push),$v=wv((function(){Mv.sort(void 0)})),Ev=wv((function(){Mv.sort(null)})),Lv=Ov("sort"),Tv=!wv((function(){if(jv)return jv<70;if(!(kv&&kv>3)){if(Sv)return!0;if(_v)return _v<603;var t,e,n,r,i="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)Mv.push({k:e+r,v:n})}for(Mv.sort((function(t,e){return e.v-t.v})),r=0;r<Mv.length;r++)e=Mv[r].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}}));dv({target:"Array",proto:!0,forced:$v||!Ev||!Lv||!Tv},{sort:function(t){void 0!==t&&vv(t);var e=yv(this);if(Tv)return void 0===t?Dv(e):Dv(e,t);var n,r,i=[],o=mv(e);for(r=0;r<o;r++)r in e&&Pv(i,e[r]);for(xv(i,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:bv(e)>bv(n)?1:-1}}(t)),n=mv(i),r=0;r<n;)e[r]=i[r++];for(;r<o;)gv(e,r++);return e}});var Cv,Av,Rv,Iv=_h.forEach,Nv=Tp("forEach")?[].forEach:function(t){return Iv(this,t,arguments.length>1?arguments[1]:void 0)},Wv=m,Yv=bf,zv=Of,Fv=Nv,Hv=Je,Bv=function(t){if(t&&t.forEach!==Fv)try{Hv(t,"forEach",Fv)}catch(e){t.forEach=Fv}};for(var Gv in Yv)Yv[Gv]&&Bv(Wv[Gv]&&Wv[Gv].prototype);function Uv(t){return"top"===t||"bottom"===t}function qv(t){return t[lp.LEFT]+t[lp.RIGHT]}function Vv(t){return t[lp.TOP]+t[lp.BOTTOM]}Bv(zv);var Kv,Zv,Qv=function(){function t(e,n){a(this,t),Cv.add(this),this.calendar=e,this.domainPainter=n,this.collection=new Map,this.scrollDirection=cp.SCROLL_FORWARD}return s(t,[{key:"get",value:function(t){return this.collection.get(t)}},{key:"update",value:function(t,e){var n=this,r=this.calendar.options.options,i=r.verticalOrientation,o=r.domain;this.scrollDirection=e;var a={width:0,height:0},u=0,s=e===cp.SCROLL_FORWARD?-1:1,c=t.keys;return"desc"===this.calendar.options.options.domain.sort&&(c.reverse(),s*=-1),t.yankedDomains.forEach((function(t){u+=n.collection.get(t)[i?"height":"width"]})),t.yankedDomains.forEach((function(t){var e=n.collection.get(t);n.collection.set(t,Object.assign(Object.assign({},e),{x:i?e.x:e.x+u*s,y:i?e.y+u*s:e.y}))})),c.forEach((function(t){var e=sh(n,Cv,"m",Av).call(n,t),r=sh(n,Cv,"m",Rv).call(n,t);i?(a.height+=r,a.width=Math.max(e,a.width)):(a.width+=e,a.height=Math.max(r,a.height));var c=a.width-e,l=a.height-r;n.collection.set(t,Object.assign(Object.assign({},n.collection.get(t)),{x:i?0:c,y:i?l:0,pre_x:i?c:c-u*s,pre_y:i?l-u*s:l,width:e,height:r,inner_width:e-(i?0:o.gutter),inner_height:r-(i?o.gutter:0)}))})),a}}]),t}();Cv=new WeakSet,Av=function(t){var e=this.calendar.options.options,n=e.domain,r=e.subDomain,i=e.x,o=e.verticalOrientation,a=this.calendar.templateCollection.get(r.type).columnsCount(t),u=(r.width+r.gutter)*a-r.gutter;return qv(n.padding)+i.domainHorizontalLabelWidth+(o?0:n.gutter)+u},Rv=function(t){var e=this.calendar.options.options,n=e.domain,r=e.subDomain,i=e.x,o=e.verticalOrientation,a=this.calendar.templateCollection.get(r.type).rowsCount(t),u=(r.height+r.gutter)*a-r.gutter;return Vv(n.padding)+u+(o?n.gutter:0)+i.domainVerticalLabelHeight};var Jv=".ch-domain",Xv=function(){function t(e){a(this,t),Kv.add(this),this.calendar=e,this.coordinates=new Qv(e,this),this.root=null,this.dimensions={width:0,height:0}}return s(t,[{key:"paint",value:function(t,e){var n=this,r=this.calendar.options.options.animationDuration,i=e.transition().duration(r),o=this.coordinates;this.dimensions=o.update(this.calendar.domainCollection,t);var a=[];return this.root=e.selectAll(Jv).data(this.calendar.domainCollection.keys,(function(t){return t})).join((function(t){return t.append("svg").attr("x",(function(t){return o.get(t).pre_x})).attr("y",(function(t){return o.get(t).pre_y})).attr("width",(function(t){return o.get(t).inner_width})).attr("height",(function(t){return o.get(t).inner_height})).attr("class",(function(t){return sh(n,Kv,"m",Zv).call(n,t)})).call((function(t){return t.append("rect").attr("width",(function(t){return o.get(t).inner_width})).attr("height",(function(t){return o.get(t).inner_height})).attr("class","".concat(Jv.slice(1),"-bg"))})).call((function(t){return a.push(t.transition(i).attr("x",(function(t){return o.get(t).x})).attr("y",(function(t){return o.get(t).y})).end())}))}),(function(t){return t.call((function(t){return a.push(t.transition(i).attr("x",(function(t){return o.get(t).x})).attr("y",(function(t){return o.get(t).y})).attr("width",(function(t){return o.get(t).inner_width})).attr("height",(function(t){return o.get(t).inner_height})).end())})).call((function(t){return a.push(t.selectAll("".concat(Jv,"-bg")).transition(i).attr("width",(function(t){return o.get(t).inner_width})).attr("height",(function(t){return o.get(t).inner_height})).end())}))}),(function(t){return t.call((function(t){return a.push(t.transition(i).attr("x",(function(t){return o.get(t).x})).attr("y",(function(t){return o.get(t).y})).remove().end())}))})),a}}]),t}();Kv=new WeakSet,Zv=function(t){var e=Jv.slice(1),n=this.calendar.dateHelper.date(t);switch(this.calendar.options.options.domain.type){case"hour":e+=" h_".concat(n.hour());break;case"day":e+=" d_".concat(n.date()," dy_").concat(n.format("d")+1);break;case"week":e+=" w_".concat(n.week());break;case"month":e+=" m_".concat(n.month()+1);break;case"year":e+=" y_".concat(n.year())}return e};var ty=Yr.includes,ey=Hc;ki({target:"Array",proto:!0,forced:P((function(){return!Array(1).includes()}))},{includes:function(t){return ty(this,t,arguments.length>1?arguments[1]:void 0)}}),ey("includes");var ny=_h.filter;ki({target:"Array",proto:!0,forced:!Uf("filter")},{filter:function(t){return ny(this,t,arguments.length>1?arguments[1]:void 0)}});var ry,iy,oy,ay,uy=Yt,sy=ms,cy=Po,ly=Ht,fy=F,hy=function(t,e,n,r){try{return r?e(uy(n)[0],n[1]):e(n)}catch(e){sy(t,"throw",e)}},dy=ts,py=lo,vy=Ar,yy=Ff,my=ds,gy=as,by=Array;ki({target:"Array",stat:!0,forced:!Rs((function(t){Array.from(t)}))},{from:function(t){var e=fy(t),n=py(this),r=arguments.length,i=r>1?arguments[1]:void 0,o=void 0!==i;o&&(i=cy(i,r>2?arguments[2]:void 0));var a,u,s,c,l,f,h=gy(e),d=0;if(!h||this===by&&dy(h))for(a=vy(e),u=n?new this(a):by(a);a>d;d++)f=o?i(e[d],d):e[d],yy(u,d,f);else for(l=(c=my(e,h)).next,u=n?new this:[];!(s=ly(l,c)).done;d++)f=o?hy(c,i,[s.value,d],!0):s.value,yy(u,d,f);return u.length=d,u}});var wy,xy,Oy,ky,Sy,jy,_y,My={year:"YYYY",month:"MMMM",week:"wo [week] YYYY",xDay:"Do MMM",ghDay:"Do MMM",day:"Do MMM",hour:"HH:00",minute:"HH:mm"},Dy=function(){function t(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(a(this,t),ry.add(this),this.collection=new Map,this.dateHelper=e,n&&r&&i){var u=this.dateHelper.intervals(n,r,i,o).map((function(t){return hh(t)}));this.collection=new Map(u)}this.min=0,this.max=0,this.keys=[],this.yankedDomains=[],this.collection.size>0&&sh(this,ry,"m",ay).call(this)}return s(t,[{key:"has",value:function(t){return this.collection.has(t)}},{key:"get",value:function(t){return this.collection.get(t)}},{key:"forEach",value:function(t){return this.collection.forEach(t)}},{key:"at",value:function(t){return this.keys[t]}},{key:"clamp",value:function(t,e){var n=this;return t&&this.min<t&&this.keys.filter((function(e){return e<t})).forEach((function(t){return n.collection.delete(t)})),e&&this.max>e&&this.keys.filter((function(t){return t>e})).forEach((function(t){return n.collection.delete(t)})),sh(this,ry,"m",ay).call(this),this}},{key:"merge",value:function(t,e,n){var r=this;this.yankedDomains=[],t.keys.forEach((function(t,i){if(!r.has(t)){if(r.collection.size>=e){var o=r.max;t>r.max&&(o=r.min),o&&r.collection.delete(o)&&r.yankedDomains.push(o)}r.collection.set(t,n(t,i)),sh(r,ry,"m",ay).call(r)}})),this.yankedDomains=this.yankedDomains.sort((function(t,e){return t-e}))}},{key:"slice",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.keys.length>e&&((n?this.keys.slice(0,-e):this.keys.slice(e)).forEach((function(e){t.collection.delete(e)})),sh(this,ry,"m",ay).call(this)),this}},{key:"fill",value:function(t,e,n){var r=this,i=e.x,o=e.y,a=e.groupY,u=e.defaultValue,s=this.groupRecords(t,i,n);this.keys.forEach((function(t){var e=s.get(t)||{};sh(r,ry,"m",iy).call(r,t,e,o,a,u)}))}},{key:"groupRecords",value:function(t,e,n){var r=this,i=new Map,o=new Map;return this.keys.forEach((function(t){r.get(t).forEach((function(e){o.set(e.t,t)}))})),t.forEach((function(t){var a=r.extractTimestamp(t,e,n);if(o.has(a)){var u=o.get(a),s=i.get(u)||{};s[a]||(s[a]=[]),s[a].push(t),i.set(u,s)}})),i}},{key:"groupValues",value:function(t,e){var n=t.filter((function(t){return null!==t}));if("string"==typeof e){if(n.every((function(t){return"number"==typeof t})))switch(e){case"sum":return n.reduce((function(t,e){return t+e}),0);case"count":return n.length;case"min":return Math.min.apply(Math,l(n))||null;case"max":return Math.max.apply(Math,l(n))||null;case"average":return n.length>0?n.reduce((function(t,e){return t+e}),0)/n.length:null;default:return null}return"count"===e?n.length:null}return"function"==typeof e?e(n):null}},{key:"extractTimestamp",value:function(t,e,n){var r="function"==typeof e?e(t):t[e];return"string"==typeof r&&(r=+new Date(r)),n(r)}}]),t}();ry=new WeakSet,iy=function(t,e,n,r,i){var o=this;this.get(t).forEach((function(a,u){var s=i;e.hasOwnProperty(a.t)&&(s=o.groupValues(sh(o,ry,"m",oy).call(o,e[a.t],n),r)),o.get(t)[u].v=s}))},oy=function(t,e){return t.map((function(t){return"function"==typeof e?e(t):t[e]}))},ay=function(){this.keys=Array.from(this.collection.keys()).map((function(t){return parseInt(t,10)})).sort((function(t,e){return t-e}));var t=this.keys;return this.min=t[0],this.max=t[t.length-1],this.keys};var Py=".ch-domain-text",$y=function(){function t(e){a(this,t),wy.add(this),this.calendar=e}return s(t,[{key:"paint",value:function(t){var e=this,n=this.calendar.options.options.domain,r=n.label,i=n.type,o=this.calendar.dateHelper,a=r.text;null!==a&&""!==a&&(void 0===a&&(a=My[i]),t.selectAll(Py).data((function(t){return[t]}),(function(t){return t})).join((function(t){return t.append("text").attr("class",Py.slice(1)).attr("x",(function(t){return sh(e,wy,"m",Oy).call(e,t)})).attr("y",(function(t){return sh(e,wy,"m",ky).call(e,t)})).attr("text-anchor",r.textAlign).attr("dominant-baseline",(function(){return sh(e,wy,"m",xy).call(e)})).text((function(t,e,n){return o.format(t,a,n[e])})).call((function(t){return sh(e,wy,"m",_y).call(e,t)}))}),(function(t){t.attr("x",(function(t){return sh(e,wy,"m",Oy).call(e,t)})).attr("y",(function(t){return sh(e,wy,"m",ky).call(e,t)})).attr("text-anchor",r.textAlign).attr("dominant-baseline",(function(){return sh(e,wy,"m",xy).call(e)})).text((function(t,e,n){return o.format(t,a,n[e])})).call((function(t){return sh(e,wy,"m",_y).call(e,t)}))})))}}]),t}();wy=new WeakSet,xy=function(){var t=this.calendar.options.options.domain.label,e=t.position,n=t.rotate;return Uv(e)?"middle":"left"===n&&"left"===e||"right"===n&&"right"===e?"bottom":"hanging"},Oy=function(t){var e=this.calendar.options.options.domain,n=e.padding,r=e.label,i=r.position,o=r.textAlign,a=r.offset,u=this.calendar.options.options.x.domainHorizontalLabelWidth,s=n[lp.LEFT];return"right"===i&&(s+=sh(this,wy,"m",Sy).call(this,t)),"middle"===o&&(["top","bottom"].includes(i)?s+=sh(this,wy,"m",Sy).call(this,t)/2:s+=u/2),"end"===o&&(Uv(i)?s+=sh(this,wy,"m",Sy).call(this,t):s+=u),s+a.x},ky=function(t){var e=this.calendar.options.options,n=e.domain,r=n.label,i=r.position,o=r.offset,a=n.padding,u=e.x,s=a[lp.TOP]+u.domainVerticalLabelHeight/2;return"bottom"===i&&(s+=sh(this,wy,"m",jy).call(this,t)),s+o.y},Sy=function(t){var e=this.calendar.options.options,n=e.domain.padding,r=e.x.domainHorizontalLabelWidth;return this.calendar.calendarPainter.domainsContainerPainter.domainPainter.coordinates.get(t).inner_width-r-qv(n)},jy=function(t){var e=this.calendar.options.options,n=e.x.domainVerticalLabelHeight,r=e.domain.padding;return this.calendar.calendarPainter.domainsContainerPainter.domainPainter.coordinates.get(t).inner_height-n-Vv(r)},_y=function(t){var e=this,n=this.calendar.options.options,r=n.domain.label,i=r.rotate,o=r.textAlign,a=r.position,u=n.x.domainHorizontalLabelWidth;switch(i){case"right":t.attr("transform",(function(t){var n=sh(e,wy,"m",Sy).call(e,t),r=sh(e,wy,"m",jy).call(e,t),i=["rotate(90, ".concat("right"===a?n:u,", 0)")];switch(a){case"right":"middle"===o?i.push("translate(".concat(r/2-u/2,")")):"end"===o&&i.push("translate(".concat(r-u,")"));break;case"left":"start"===o?i.push("translate(".concat(u,")")):"middle"===o?i.push("translate(".concat(u/2+r/2,")")):"end"===o&&i.push("translate(".concat(r,")"))}return i.join(",")}));break;case"left":t.attr("transform",(function(t){var n=sh(e,wy,"m",Sy).call(e,t),r=sh(e,wy,"m",jy).call(e,t),i=["rotate(270, ".concat("right"===a?n:u,", 0)")];switch(a){case"right":"start"===o?i.push("translate(-".concat(r,")")):"middle"===o?i.push("translate(-".concat(r/2+u/2,")")):"end"===o&&i.push("translate(-".concat(u,")"));break;case"left":"start"===o?i.push("translate(".concat(u-r,")")):"middle"===o&&i.push("translate(".concat(u/2-r/2,")"))}return i.join(",")}))}};var Ey,Ly,Ty,Cy,Ay,Ry,Iy,Ny="\t\n\v\f\r  áââââââââââââ¯âã\u2028\u2029\ufeff",Wy=W,Yy=tf,zy=Ny,Fy=A("".replace),Hy=RegExp("^["+zy+"]+"),By=RegExp("(^|[^"+zy+"])["+zy+"]+$"),Gy=function(t){return function(e){var n=Yy(Wy(e));return 1&t&&(n=Fy(n,Hy,"")),2&t&&(n=Fy(n,By,"$1")),n}},Uy={start:Gy(1),end:Gy(2),trim:Gy(3)},qy=Ne.PROPER,Vy=P,Ky=Ny,Zy=Uy.trim;ki({target:"String",proto:!0,forced:function(t){return Vy((function(){return!!Ky[t]()||"âÂá "!=="âÂá "[t]()||qy&&Ky[t].name!==t}))}("trim")},{trim:function(){return Zy(this)}});var Qy,Jy,Xy,tm,em=".ch-subdomain",nm=function(){function t(e){a(this,t),Ey.add(this),this.calendar=e,this.root=null}return s(t,[{key:"paint",value:function(t){var e=this;this.root=t||this.root;var n="".concat(em,"-container"),r=this.root.selectAll(n).data((function(t){return[t]}),(function(t){return t})).join((function(t){return t.append("svg").call((function(t){return sh(e,Ey,"m",Ly).call(e,t)})).attr("class",n.slice(1))}),(function(t){return t.call((function(t){return sh(e,Ey,"m",Ly).call(e,t)}))})),i=this.calendar.options.options.subDomain,o=i.radius,a=i.width,u=i.height,s=i.sort,c=this.calendar.eventEmitter;r.selectAll("g").data((function(t){var n=e.calendar.domainCollection.get(t);if("desc"===s){var r=Math.max.apply(Math,l(n.map((function(t){return t.x}))));n.forEach((function(t,e){n[e].x=Math.abs(t.x-r)}))}return n})).join((function(t){return t.append("g").call((function(t){return t.insert("rect").attr("class",(function(t){return sh(e,Ey,"m",Ty).call(e,t.t,"".concat(em.slice(1),"-bg"))})).attr("width",a).attr("height",u).attr("x",(function(t){return sh(e,Ey,"m",Ry).call(e,t)})).attr("y",(function(t){return sh(e,Ey,"m",Iy).call(e,t)})).on("click",(function(t,e){return c.emit("click",t,e.t,e.v)})).on("mouseover",(function(t,e){return c.emit("mouseover",t,e.t,e.v)})).on("mouseout",(function(t,e){return c.emit("mouseout",t,e.t,e.v)})).attr("rx",o>0?o:null).attr("ry",o>0?o:null)})).call((function(t){return sh(e,Ey,"m",Cy).call(e,t)}))}),(function(t){return t.selectAll("rect").attr("class",(function(t){return sh(e,Ey,"m",Ty).call(e,t.t,"".concat(em.slice(1),"-bg"))})).attr("width",a).attr("height",u).attr("x",(function(t){return sh(e,Ey,"m",Ry).call(e,t)})).attr("y",(function(t){return sh(e,Ey,"m",Iy).call(e,t)})).attr("rx",o).attr("ry",o)}))}}]),t}();Ey=new WeakSet,Ly=function(t){var e=this.calendar.options.options,n=e.domain,r=n.padding,i=n.label.position;t.attr("x",(function(){var t=r[lp.LEFT];return"left"===i&&(t+=e.x.domainHorizontalLabelWidth),t})).attr("y",(function(){var t=r[lp.TOP];return"top"===i&&(t+=e.x.domainVerticalLabelHeight),t}))},Ty=function(t){var e=this,n=this.calendar.options.options,r=n.date.highlight,i=n.subDomain.type,o="";r.length>0&&r.forEach((function(n){var r=e.calendar.templateCollection.get(i).extractUnit;r(+n)===r(t)&&(o="highlight")}));for(var a=arguments.length,u=new Array(a>1?a-1:0),s=1;s<a;s++)u[s-1]=arguments[s];return[o].concat(u).join(" ").trim()},Cy=function(t){var e=this,n=this.calendar.options.options.subDomain,r=n.width,i=n.height,o=n.label;return o?t.append("text").attr("class",(function(t){return sh(e,Ey,"m",Ty).call(e,t.t,"".concat(em.slice(1),"-text"))})).attr("x",(function(t){return sh(e,Ey,"m",Ry).call(e,t)+r/2})).attr("y",(function(t){return sh(e,Ey,"m",Iy).call(e,t)+i/2})).attr("text-anchor","middle").attr("dominant-baseline","central").text((function(t,n,r){return e.calendar.dateHelper.format(t.t,o,t.v,r[n])})):null},Ay=function(t,e){var n=this.calendar.options.options.subDomain;return e[t]*(n["x"===t?"width":"height"]+n.gutter)},Ry=function(t){return sh(this,Ey,"m",Ay).call(this,"x",t)},Iy=function(t){return sh(this,Ey,"m",Ay).call(this,"y",t)};var rm=".ch-domain-container",im="in-transition",om=function(){function e(t){a(this,e),Qy.add(this),this.calendar=t,this.domainPainter=new Xv(t),this.subDomainPainter=new nm(t),this.domainLabelPainter=new $y(t),this.dimensions={width:0,height:0},this.transitionsQueueCount=0}return s(e,[{key:"setup",value:function(){this.root=this.calendar.calendarPainter.root.attr("x",0).attr("y",0).append("svg").attr("class",rm.slice(1)).append("svg").attr("class","".concat(rm.slice(1),"-animation-wrapper"))}},{key:"paint",value:function(t){var e=this;sh(this,Qy,"m",Jy).call(this);var n=this.domainPainter.paint(t,this.root);return this.subDomainPainter.paint(this.domainPainter.root),this.domainLabelPainter.paint(this.domainPainter.root),sh(this,Qy,"m",tm).call(this),Promise.allSettled(n).then((function(){sh(e,Qy,"m",Xy).call(e)})),n}},{key:"updatePosition",value:function(){var e;if(!(null===(e=this.root)||void 0===e?void 0:e.node()))return Promise.resolve();var n=this.calendar.options.options.animationDuration,r=this.calendar.pluginManager.getHeightFromPosition("top"),i=this.calendar.pluginManager.getWidthFromPosition("left");return[t.select(this.root.node().parentNode).transition().duration(n).call((function(t){t.attr("x",i).attr("y",r)})).end()]}},{key:"width",value:function(){return this.dimensions.width}},{key:"height",value:function(){return this.dimensions.height}},{key:"destroy",value:function(){return sh(this,Qy,"m",Jy).call(this),Promise.resolve()}}]),e}();Qy=new WeakSet,Jy=function(){var e;(null===(e=this.root)||void 0===e?void 0:e.node())&&(this.transitionsQueueCount+=1,t.select(this.root.node().parentNode).classed(im,!0))},Xy=function(){var e;(null===(e=this.root)||void 0===e?void 0:e.node())&&(this.transitionsQueueCount-=1,0===this.transitionsQueueCount&&t.select(this.root.node().parentNode).classed(im,!1))},tm=function(){var t=this.calendar.options.options,e=t.animationDuration,n=t.verticalOrientation,r=t.domain.gutter,i=this.domainPainter.dimensions;this.dimensions={width:i.width-(n?0:r),height:i.height-(n?r:0)},this.root.transition().duration(e).attr("width",this.dimensions.width).attr("height",this.dimensions.height)};var am,um,sm,cm,lm=function(){function t(e){a(this,t),this.calendar=e}return s(t,[{key:"paint",value:function(){var t=[];return(t=t.concat(this.calendar.pluginManager.paintAll())).concat(this.setPluginsPosition())}},{key:"setPluginsPosition",value:function(){var t=this.calendar.pluginManager,e=this.calendar.options.options.animationDuration,n=this.calendar.calendarPainter.domainsContainerPainter,r=t.getFromPosition("top"),i=t.getFromPosition("right"),o=t.getFromPosition("bottom"),a=t.getFromPosition("left"),u=t.getHeightFromPosition("top"),s=t.getWidthFromPosition("left"),c=[],l=0;r.forEach((function(t){c.push(t.root.transition().duration(e).attr("y",l).attr("x",s).end()),l+=t.options.dimensions.height}));var f=0;return a.forEach((function(t){c.push(t.root.transition().duration(e).attr("x",f).attr("y",u).end()),f+=t.options.dimensions.width})),o.forEach((function(t){c.push(t.root.transition().duration(e).attr("x",s).attr("y",u+n.height()).end())})),f+=n.width(),i.forEach((function(t){c.push(t.root.transition().duration(e).attr("x",f).attr("y",u).end()),f+=t.options.dimensions.width})),c}},{key:"insideWidth",value:function(){return this.calendar.pluginManager.getWidthFromPosition("left")+this.calendar.pluginManager.getWidthFromPosition("right")}},{key:"insideHeight",value:function(){return this.calendar.pluginManager.getHeightFromPosition("top")+this.calendar.pluginManager.getHeightFromPosition("bottom")}}]),t}(),fm=function(){function e(t){a(this,e),am.add(this),this.calendar=t,this.dimensions={width:0,height:0},this.root=null,this.domainsContainerPainter=new om(t),this.pluginPainter=new lm(t)}return s(e,[{key:"setup",value:function(){var e=this.calendar.options.options,n=e.itemSelector,r=e.theme;return this.root||(this.root=t.select(n).append("svg").attr("data-theme",r).attr("class",".ch-container".slice(1)),this.domainsContainerPainter.setup()),this.calendar.pluginManager.setupAll(),!0}},{key:"paint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cp.SCROLL_NONE,e=this.domainsContainerPainter.paint(t).concat(this.pluginPainter.paint()).concat(this.domainsContainerPainter.updatePosition());return sh(this,am,"m",cm).call(this),Promise.allSettled(e)}},{key:"destroy",value:function(){var t=this.calendar.pluginManager.destroyAll().concat(this.domainsContainerPainter.destroy());return this.root?(t.push(this.root.transition().duration(this.calendar.options.options.animationDuration).attr("width",0).attr("height",0).remove().end()),Promise.allSettled(t)):Promise.allSettled(t)}}]),e}();am=new WeakSet,um=function(){return this.domainsContainerPainter.height()+this.pluginPainter.insideHeight()},sm=function(){return this.domainsContainerPainter.width()+this.pluginPainter.insideWidth()},cm=function(){var t=this.calendar.options.options,e=sh(this,am,"m",sm).call(this),n=sh(this,am,"m",um).call(this);this.root.transition().duration(t.animationDuration).attr("width",e).attr("height",n),e===this.dimensions.width&&n===this.dimensions.height||this.calendar.eventEmitter.emit("resize",e,n,this.dimensions.width,this.dimensions.height),this.dimensions={width:e,height:n}};var hm="object"==typeof global&&global&&global.Object===Object&&global,dm="object"==typeof self&&self&&self.Object===Object&&self,pm=hm||dm||Function("return this")(),vm=pm.Symbol,ym=Object.prototype,mm=ym.hasOwnProperty,gm=ym.toString,bm=vm?vm.toStringTag:void 0,wm=Object.prototype.toString,xm="[object Null]",Om="[object Undefined]",km=vm?vm.toStringTag:void 0;function Sm(t){return null==t?void 0===t?Om:xm:km&&km in Object(t)?function(t){var e=mm.call(t,bm),n=t[bm];try{t[bm]=void 0;var r=!0}catch(t){}var i=gm.call(t);return r&&(e?t[bm]=n:delete t[bm]),i}(t):function(t){return wm.call(t)}(t)}function jm(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var _m="[object AsyncFunction]",Mm="[object Function]",Dm="[object GeneratorFunction]",Pm="[object Proxy]";function $m(t){if(!jm(t))return!1;var e=Sm(t);return e==Mm||e==Dm||e==_m||e==Pm}var Em=F,Lm=dc;ki({target:"Object",stat:!0,forced:P((function(){Lm(1)}))},{keys:function(t){return Lm(Em(t))}});var Tm,Cm=Pt,Am=Bn,Rm=gt("match"),Im=TypeError,Nm=function(t){if(function(t){var e;return Cm(t)&&(void 0!==(e=t[Rm])?!!e:"RegExp"===Am(t))}(t))throw new Im("The method doesn't accept regular expressions");return t},Wm=gt("match"),Ym=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[Wm]=!1,"/./"[t](e)}catch(t){}}return!1},zm=ki,Fm=jo,Hm=tr.f,Bm=Tr,Gm=tf,Um=Nm,qm=W,Vm=Ym,Km=Fm("".startsWith),Zm=Fm("".slice),Qm=Math.min,Jm=Vm("startsWith");zm({target:"String",proto:!0,forced:!(!Jm&&(Tm=Hm(String.prototype,"startsWith"),Tm&&!Tm.writable)||Jm)},{startsWith:function(t){var e=Gm(qm(this));Um(t);var n=Bm(Qm(arguments.length>1?arguments[1]:void 0,e.length)),r=Gm(t);return Km?Km(e,r,n):Zm(e,n,n+r.length)===r}});var Xm=_t,tg=P,eg=A,ng=Jc,rg=dc,ig=hr,og=eg(er.f),ag=eg([].push),ug=Xm&&tg((function(){var t=Object.create(null);return t[2]=2,!og(t,2)})),sg=function(t){return function(e){for(var n,r=ig(e),i=rg(r),o=ug&&null===ng(r),a=i.length,u=0,s=[];a>u;)n=i[u++],Xm&&!(o?n in r:og(r,n))||ag(s,t?[n,r[n]]:r[n]);return s}},cg=[sg(!0),sg(!1)][0];function lg(t){return null!=t&&!Number.isNaN(t)}function fg(t,e){return+lg(e)-+lg(t)||n.ascending(t,e)}function hg(t){return isFinite(t)?t:NaN}function dg(t){return t>0&&isFinite(t)?t:NaN}function pg(t){return t<0&&isFinite(t)?t:NaN}ki({target:"Object",stat:!0},{entries:function(t){return cg(t)}});const vg=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function yg(t,e){return vg.test(t+="")?new Date(t):"function"==typeof e?e(t):e}const mg=new Map([["second",n.timeSecond],["minute",n.timeMinute],["hour",n.timeHour],["day",n.timeDay],["week",n.timeWeek],["month",n.timeMonth],["quarter",n.timeMonth.every(3)],["half",n.timeMonth.every(6)],["year",n.timeYear],["monday",n.timeMonday],["tuesday",n.timeTuesday],["wednesday",n.timeWednesday],["thursday",n.timeThursday],["friday",n.timeFriday],["saturday",n.timeSaturday],["sunday",n.timeSunday]]),gg=new Map([["second",n.utcSecond],["minute",n.utcMinute],["hour",n.utcHour],["day",n.utcDay],["week",n.utcWeek],["month",n.utcMonth],["quarter",n.utcMonth.every(3)],["half",n.utcMonth.every(6)],["year",n.utcYear],["monday",n.utcMonday],["tuesday",n.utcTuesday],["wednesday",n.utcWednesday],["thursday",n.utcThursday],["friday",n.utcFriday],["saturday",n.utcSaturday],["sunday",n.utcSunday]]);function bg(t){const e=mg.get(`${t}`.toLowerCase());if(!e)throw new Error(`unknown interval: ${t}`);return e}function wg(t){const e=gg.get(`${t}`.toLowerCase());if(!e)throw new Error(`unknown interval: ${t}`);return e}const xg=Object.getPrototypeOf(Uint8Array),Og=Object.prototype.toString,kg=t=>()=>t;function Sg(t){return t instanceof xg?t:Pg(t,jg,Float64Array)}function jg(t){return null==t?NaN:Number(t)}function _g(t){return Pg(t,Mg)}function Mg(t){return t instanceof Date&&!isNaN(t)?t:"string"==typeof t?yg(t):null==t||isNaN(t=+t)?void 0:new Date(t)}function Dg(t){return null==t||t instanceof Array||t instanceof xg?t:Array.from(t)}function Pg(t,e,n=Array){return null==t?t:t instanceof n?t.map(e):n.from(t,e)}function $g(t,e=Array){return t instanceof e?t.slice():e.from(t)}function Eg(t){return function(t){return t?.toString===Og}(t)&&(void 0!==t.type||void 0!==t.domain)}function Lg(t,e){if(null!=t){if("number"==typeof t){0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const e=Math.abs(t);return t<0?{floor:t=>Math.floor(t*e)/e,offset:t=>(t*e+1)/e,range:(t,r)=>n.range(Math.ceil(t*e),r*e).map((t=>t/e))}:{floor:t=>Math.floor(t/e)*e,offset:t=>t+e,range:(t,r)=>n.range(Math.ceil(t/e),r/e).map((t=>t*e))}}if("string"==typeof t)return("time"===e?bg:wg)(t);if("function"!=typeof t.floor)throw new Error("invalid interval; missing floor method");if("function"!=typeof t.offset)throw new Error("invalid interval; missing offset method");return t}}function Tg(t,e){if((t=Lg(t,e))&&"function"!=typeof t.range)throw new Error("invalid interval: missing range method");return t}function Cg(t){for(const e of t){if(null==e)continue;const t=typeof e;return"string"===t||"boolean"===t}}function Ag(t){for(const e of t)if(null!=e)return e instanceof Date}function Rg(t){for(const e of t)if(null!=e)return"string"==typeof e&&isNaN(e)&&yg(e)}function Ig(t){for(const e of t)if(null!=e){if("string"!=typeof e)return!1;if(e.trim())return!isNaN(e)}}function Ng(t){if(null==t)return;const e=t[0],r=t[t.length-1];return n.descending(e,r)}const Wg=Symbol("position"),Yg=Symbol("color"),zg=Symbol("radius"),Fg=Symbol("length"),Hg=Symbol("opacity"),Bg=Symbol("symbol"),Gg=new Map([["x",Wg],["y",Wg],["fx",Wg],["fy",Wg],["r",zg],["color",Yg],["opacity",Hg],["symbol",Bg],["length",Fg]]),Ug=2/Math.sqrt(3),qg={draw(t,e){const n=Math.sqrt(e/Math.PI),r=n*Ug,i=r/2;t.moveTo(0,r),t.lineTo(n,i),t.lineTo(n,-i),t.lineTo(0,-r),t.lineTo(-n,-i),t.lineTo(-n,i),t.closePath()}},Vg=new Map([["asterisk",n.symbolAsterisk],["circle",n.symbolCircle],["cross",n.symbolCross],["diamond",n.symbolDiamond],["diamond2",n.symbolDiamond2],["hexagon",qg],["plus",n.symbolPlus],["square",n.symbolSquare],["square2",n.symbolSquare2],["star",n.symbolStar],["times",n.symbolTimes],["triangle",n.symbolTriangle],["triangle2",n.symbolTriangle2],["wye",n.symbolWye]]);function Kg(t){if(null==t||function(t){return t&&"function"==typeof t.draw}(t))return t;const e=Vg.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid symbol: ${t}`)}function Zg(t){console.warn(t)}const Qg=new Map([["accent",n.schemeAccent],["category10",n.schemeCategory10],["dark2",n.schemeDark2],["paired",n.schemePaired],["pastel1",n.schemePastel1],["pastel2",n.schemePastel2],["set1",n.schemeSet1],["set2",n.schemeSet2],["set3",n.schemeSet3],["tableau10",n.schemeTableau10],["brbg",Xg(n.schemeBrBG,n.interpolateBrBG)],["prgn",Xg(n.schemePRGn,n.interpolatePRGn)],["piyg",Xg(n.schemePiYG,n.interpolatePiYG)],["puor",Xg(n.schemePuOr,n.interpolatePuOr)],["rdbu",Xg(n.schemeRdBu,n.interpolateRdBu)],["rdgy",Xg(n.schemeRdGy,n.interpolateRdGy)],["rdylbu",Xg(n.schemeRdYlBu,n.interpolateRdYlBu)],["rdylgn",Xg(n.schemeRdYlGn,n.interpolateRdYlGn)],["spectral",Xg(n.schemeSpectral,n.interpolateSpectral)],["burd",tb(n.schemeRdBu,n.interpolateRdBu)],["buylrd",tb(n.schemeRdYlBu,n.interpolateRdYlBu)],["blues",Jg(n.schemeBlues,n.interpolateBlues)],["greens",Jg(n.schemeGreens,n.interpolateGreens)],["greys",Jg(n.schemeGreys,n.interpolateGreys)],["oranges",Jg(n.schemeOranges,n.interpolateOranges)],["purples",Jg(n.schemePurples,n.interpolatePurples)],["reds",Jg(n.schemeReds,n.interpolateReds)],["turbo",eb(n.interpolateTurbo)],["viridis",eb(n.interpolateViridis)],["magma",eb(n.interpolateMagma)],["inferno",eb(n.interpolateInferno)],["plasma",eb(n.interpolatePlasma)],["cividis",eb(n.interpolateCividis)],["cubehelix",eb(n.interpolateCubehelixDefault)],["warm",eb(n.interpolateWarm)],["cool",eb(n.interpolateCool)],["bugn",Jg(n.schemeBuGn,n.interpolateBuGn)],["bupu",Jg(n.schemeBuPu,n.interpolateBuPu)],["gnbu",Jg(n.schemeGnBu,n.interpolateGnBu)],["orrd",Jg(n.schemeOrRd,n.interpolateOrRd)],["pubu",Jg(n.schemePuBu,n.interpolatePuBu)],["pubugn",Jg(n.schemePuBuGn,n.interpolatePuBuGn)],["purd",Jg(n.schemePuRd,n.interpolatePuRd)],["rdpu",Jg(n.schemeRdPu,n.interpolateRdPu)],["ylgn",Jg(n.schemeYlGn,n.interpolateYlGn)],["ylgnbu",Jg(n.schemeYlGnBu,n.interpolateYlGnBu)],["ylorbr",Jg(n.schemeYlOrBr,n.interpolateYlOrBr)],["ylorrd",Jg(n.schemeYlOrRd,n.interpolateYlOrRd)],["rainbow",nb(n.interpolateRainbow)],["sinebow",nb(n.interpolateSinebow)]]);function Jg(t,e){return({length:r})=>1===r?[t[3][1]]:2===r?[t[3][1],t[3][2]]:(r=Math.max(3,Math.floor(r)))>9?n.quantize(e,r):t[r]}function Xg(t,e){return({length:r})=>2===r?[t[3][0],t[3][2]]:(r=Math.max(3,Math.floor(r)))>11?n.quantize(e,r):t[r]}function tb(t,e){return({length:r})=>2===r?[t[3][2],t[3][0]]:(r=Math.max(3,Math.floor(r)))>11?n.quantize((t=>e(1-t)),r):t[r].slice().reverse()}function eb(t){return({length:e})=>n.quantize(t,Math.max(2,Math.floor(e)))}function nb(t){return({length:e})=>n.quantize(t,Math.floor(e)+1).slice(0,-1)}function rb(t){const e=`${t}`.toLowerCase();if(!Qg.has(e))throw new Error(`unknown ordinal scheme: ${e}`);return Qg.get(e)}function ib(t,e){const n=rb(t),r="function"==typeof n?n({length:e}):n;return r.length!==e?r.slice(0,e):r}const ob=new Map([["brbg",n.interpolateBrBG],["prgn",n.interpolatePRGn],["piyg",n.interpolatePiYG],["puor",n.interpolatePuOr],["rdbu",n.interpolateRdBu],["rdgy",n.interpolateRdGy],["rdylbu",n.interpolateRdYlBu],["rdylgn",n.interpolateRdYlGn],["spectral",n.interpolateSpectral],["burd",t=>n.interpolateRdBu(1-t)],["buylrd",t=>n.interpolateRdYlBu(1-t)],["blues",n.interpolateBlues],["greens",n.interpolateGreens],["greys",n.interpolateGreys],["purples",n.interpolatePurples],["reds",n.interpolateReds],["oranges",n.interpolateOranges],["turbo",n.interpolateTurbo],["viridis",n.interpolateViridis],["magma",n.interpolateMagma],["inferno",n.interpolateInferno],["plasma",n.interpolatePlasma],["cividis",n.interpolateCividis],["cubehelix",n.interpolateCubehelixDefault],["warm",n.interpolateWarm],["cool",n.interpolateCool],["bugn",n.interpolateBuGn],["bupu",n.interpolateBuPu],["gnbu",n.interpolateGnBu],["orrd",n.interpolateOrRd],["pubugn",n.interpolatePuBuGn],["pubu",n.interpolatePuBu],["purd",n.interpolatePuRd],["rdpu",n.interpolateRdPu],["ylgnbu",n.interpolateYlGnBu],["ylgn",n.interpolateYlGn],["ylorbr",n.interpolateYlOrBr],["ylorrd",n.interpolateYlOrRd],["rainbow",n.interpolateRainbow],["sinebow",n.interpolateSinebow]]);function ab(t){const e=`${t}`.toLowerCase();if(!ob.has(e))throw new Error(`unknown quantitative scheme: ${e}`);return ob.get(e)}const ub=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function sb(t){return null!=t&&ub.has(`${t}`.toLowerCase())}const cb=t=>e=>t(1-e),lb=[0,1],fb=new Map([["number",n.interpolateNumber],["rgb",n.interpolateRgb],["hsl",n.interpolateHsl],["hcl",n.interpolateHcl],["lab",n.interpolateLab]]);function hb(t){const e=`${t}`.toLowerCase();if(!fb.has(e))throw new Error(`unknown interpolator: ${e}`);return fb.get(e)}function db(t,e,r,{type:i,nice:o,clamp:a,zero:u,domain:s=mb(t,r),unknown:c,round:l,scheme:f,interval:h,range:d=(Gg.get(t)===zg?bb(r,s):Gg.get(t)===Fg?wb(r,s):Gg.get(t)===Hg?lb:void 0),interpolate:p=(Gg.get(t)===Yg?null==f&&void 0!==d?n.interpolateRgb:ab(void 0!==f?f:"cyclical"===i?"rainbow":"turbo"):l?n.interpolateRound:n.interpolateNumber),reverse:v}){if(h=Tg(h,i),"cyclical"!==i&&"sequential"!==i||(i="linear"),v=!!v,"function"!=typeof p&&(p=hb(p)),1===p.length?(v&&(p=cb(p),v=!1),void 0===d&&2===(d=Float64Array.from(s,((t,e)=>e/(s.length-1)))).length&&(d=lb),e.interpolate((d===lb?kg:kb)(p))):e.interpolate(p),u){const[t,e]=n.extent(s);(t>0||e<0)&&(Ng(s=$g(s))!==Math.sign(t)?s[s.length-1]=0:s[0]=0)}return v&&(s=n.reverse(s)),e.domain(s).unknown(c),o&&(e.nice(function(t,e){return!0===t?void 0:"number"==typeof t?t:function(t,e){if((t=Tg(t,e))&&"function"!=typeof t.ceil)throw new Error("invalid interval: missing ceil method");return t}(t,e)}(o,i)),s=e.domain()),void 0!==d&&e.range(d),a&&e.clamp(a),{type:i,domain:s,range:d,scale:e,interpolate:p,interval:h}}function pb(t,e,{exponent:r=1,...i}){return db(t,n.scalePow().exponent(r),e,{...i,type:"pow"})}function vb(t,e,{domain:r=[0],unknown:i,scheme:o="rdylbu",interpolate:a,range:u=(void 0!==a?n.quantize(a,r.length+1):Gg.get(t)===Yg?ib(o,r.length+1):void 0),reverse:s}){const c=Ng(r=Dg(r));if(!isNaN(c)&&!function(t,e){for(let r=1,i=t.length,o=t[0];r<i;++r){const i=n.descending(o,o=t[r]);if(0!==i&&i!==e)return!1}return!0}(r,c))throw new Error(`the ${t} scale has a non-monotonic domain`);return s&&(u=n.reverse(u)),{type:"threshold",scale:n.scaleThreshold(c<0?n.reverse(r):r,void 0===u?[]:u).unknown(i),domain:r,range:u}}function yb(t,e=hg){return t.length?[n.min(t,(({value:t})=>void 0===t?t:n.min(t,e))),n.max(t,(({value:t})=>void 0===t?t:n.max(t,e)))]:[0,1]}function mb(t,e){const n=Gg.get(t);return(n===zg||n===Hg||n===Fg?gb:yb)(e)}function gb(t){return[0,t.length?n.max(t,(({value:t})=>void 0===t?t:n.max(t,hg))):1]}function bb(t,e){const r=t.find((({radius:t})=>void 0!==t));if(void 0!==r)return[0,r.radius];const i=n.quantile(t,.5,(({value:t})=>void 0===t?NaN:n.quantile(t,.25,dg))),o=e.map((t=>3*Math.sqrt(t/i))),a=30/n.max(o);return a<1?o.map((t=>t*a)):o}function wb(t,e){const r=n.median(t,(({value:t})=>void 0===t?NaN:n.median(t,Math.abs))),i=e.map((t=>12*t/r)),o=60/n.max(i);return o<1?i.map((t=>t*o)):i}function xb(t){for(const{value:e}of t)if(void 0!==e)for(let n of e){if(n>0)return yb(t,dg);if(n<0)return yb(t,pg)}return[1,10]}function Ob(t){const e=[];for(const{value:n}of t)if(void 0!==n)for(const t of n)e.push(t);return e}function kb(t){return(e,n)=>r=>t(e+r*(n-e))}function Sb(t,e,r,i,{type:o,nice:a,clamp:u,domain:s=yb(i),unknown:c,pivot:l=0,scheme:f,range:h,symmetric:d=!0,interpolate:p=(Gg.get(t)===Yg?null==f&&void 0!==h?n.interpolateRgb:ab(void 0!==f?f:"rdbu"):n.interpolateNumber),reverse:v}){l=+l;let[y,m]=s;if(n.descending(y,m)<0&&([y,m]=[m,y],v=!v),y=Math.min(y,l),m=Math.max(m,l),"function"!=typeof p&&(p=hb(p)),void 0!==h&&(p=1===p.length?kb(p)(...h):n.piecewise(p,h)),v&&(p=cb(p)),d){const t=r.apply(l),e=t-r.apply(y),n=r.apply(m)-t;e<n?y=r.invert(t-n):e>n&&(m=r.invert(t+e))}return e.domain([y,l,m]).unknown(c).interpolator(p),u&&e.clamp(u),a&&e.nice(a),{type:o,domain:[y,m],pivot:l,interpolate:p,scale:e}}function jb(t,e,{exponent:r=1,...i}){return Sb(t,n.scaleDivergingPow().exponent(r=+r),function(t){return.5===t?Db:{apply:e=>Math.sign(e)*Math.pow(Math.abs(e),t),invert:e=>Math.sign(e)*Math.pow(Math.abs(e),1/t)}}(r),e,{...i,type:"diverging-pow"})}const _b={apply:t=>t,invert:t=>t},Mb={apply:Math.log,invert:Math.exp},Db={apply:t=>Math.sign(t)*Math.sqrt(Math.abs(t)),invert:t=>Math.sign(t)*(t*t)};function Pb(t,e,n,r){return db(t,e,n,r)}const $b=Symbol("ordinal");function Eb(t,e,r,{type:i,interval:o,domain:a,range:u,reverse:s,hint:c}){return o=Tg(o,i),void 0===a&&(a=Tb(r,o,t)),"categorical"!==i&&i!==$b||(i="ordinal"),s&&(a=n.reverse(a)),e.domain(a),void 0!==u&&("function"==typeof u&&(u=u(a)),e.range(u)),{type:i,domain:a,range:u,scale:e,hint:c,interval:o}}function Lb(t,e,n,r){let{round:i}=n;return void 0!==i&&t.round(i=!!i),(t=Eb(r,t,e,n)).round=i,t}function Tb(t,e,r){const i=new n.InternSet;for(const{value:e,domain:n}of t){if(void 0!==n)return n();if(void 0!==e)for(const t of e)i.add(t)}if(void 0!==e){const[t,r]=n.extent(i).map(e.floor,e);return e.range(t,e.offset(r))}if(i.size>1e4&&Gg.get(r)===Wg)throw new Error(`implicit ordinal domain of ${r} scale has more than 10,000 values`);return n.sort(i,fg)}function Cb(t,e){let n;for(const{hint:r}of t){const t=r?.[e];if(void 0!==t)if(void 0===n)n=t;else if(n!==t)return}return n}function Ab(t,e,r){return function(t,e=[],r={}){const i=function(t,e,{type:n,domain:r,range:i,scheme:o,pivot:a,projection:u}){if("fx"===t||"fy"===t)return"band";"x"!==t&&"y"!==t||null==u||(n=Ib);for(const{type:t}of e)if(void 0!==t)if(void 0===n)n=t;else if(n!==t)throw new Error(`scale incompatible with channel: ${n} !== ${t}`);if(n===Ib)return;if(void 0!==n)return n;if(void 0===r&&!e.some((({value:t})=>void 0!==t)))return;const s=Gg.get(t);if(s===zg)return"sqrt";if(s===Hg||s===Fg)return"linear";if(s===Bg)return"ordinal";if((r||i||[]).length>2)return Nb(s);if(void 0!==r)return Cg(r)?Nb(s):Ag(r)?"utc":s!==Yg||null==a&&!sb(o)?"linear":"diverging";const c=e.map((({value:t})=>t)).filter((t=>void 0!==t));return c.some(Cg)?Nb(s):c.some(Ag)?"utc":s!==Yg||null==a&&!sb(o)?"linear":"diverging"}(t,e,r);if(void 0===r.type&&void 0===r.domain&&void 0===r.range&&null==r.interval&&"fx"!==t&&"fy"!==t&&function({type:t}){return"ordinal"===t||"point"===t||"band"===t||t===$b}({type:i})){const n=e.map((({value:t})=>t)).filter((t=>void 0!==t));n.some(Ag)?Zg(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${Rb(i)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${Rb(i)}".`):n.some(Rg)?Zg(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${Rb(i)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${Rb(i)}".`):n.some(Ig)&&Zg(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${Rb(i)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${Rb(i)}".`)}switch(r.type=i,i){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":r=Wb(e,r,Sg);break;case"identity":switch(Gg.get(t)){case Wg:r=Wb(e,r,Sg);break;case Bg:r=Wb(e,r,Yb)}break;case"utc":case"time":r=Wb(e,r,_g)}switch(i){case"diverging":return function(t,e,r){return Sb(t,n.scaleDiverging(),_b,e,r)}(t,e,r);case"diverging-sqrt":return function(t,e,n){return jb(t,e,{...n,exponent:.5})}(t,e,r);case"diverging-pow":return jb(t,e,r);case"diverging-log":return function(t,e,{base:r=10,pivot:i=1,domain:o=yb(e,i<0?pg:dg),...a}){return Sb(t,n.scaleDivergingLog().base(r=+r),Mb,e,{domain:o,pivot:i,...a})}(t,e,r);case"diverging-symlog":return function(t,e,{constant:r=1,...i}){return Sb(t,n.scaleDivergingSymlog().constant(r=+r),function(t){return{apply:e=>Math.sign(e)*Math.log1p(Math.abs(e/t)),invert:e=>Math.sign(e)*Math.expm1(Math.abs(e))*t}}(r),e,i)}(t,e,r);case"categorical":case"ordinal":case $b:return function(t,e,{type:r,interval:i,domain:o,range:a,scheme:u,unknown:s,...c}){let l;if(i=Tg(i,r),void 0===o&&(o=Tb(e,i,t)),Gg.get(t)===Bg)l=function(t){return{fill:Cb(t,"fill"),stroke:Cb(t,"stroke")}}(e),a=void 0===a?function(t){return null==(e=t.fill)||function(t){return/^\s*none\s*$/i.test(t)}(e)?n.symbolsStroke:n.symbolsFill;var e}(l):Pg(a,Kg);else if(Gg.get(t)===Yg&&(void 0!==a||"ordinal"!==r&&r!==$b||(a=function(t,e="greys"){const n=new Set,[r,i]=ib(e,2);for(const e of t)if(null!=e)if(!0===e)n.add(i);else{if(!1!==e)return;n.add(r)}return[...n]}(o,u),void 0!==a&&(u=void 0)),void 0===u&&void 0===a&&(u="ordinal"===r?"turbo":"tableau10"),void 0!==u))if(void 0!==a){const t=ab(u),e=a[0],r=a[1]-a[0];a=({length:i})=>n.quantize((n=>t(e+r*n)),i)}else a=rb(u);if(s===n.scaleImplicit)throw new Error(`implicit unknown on ${t} scale is not supported`);return Eb(t,n.scaleOrdinal().unknown(s),e,{...c,type:r,domain:o,range:a,hint:l})}(t,e,r);case"cyclical":case"sequential":case"linear":return function(t,e,r){return db(t,n.scaleLinear(),e,r)}(t,e,r);case"sqrt":return function(t,e,n){return pb(t,e,{...n,exponent:.5})}(t,e,r);case"threshold":return vb(t,0,r);case"quantile":return function(t,e,{range:r,quantiles:i=(void 0===r?5:(r=[...r]).length),n:o=i,scheme:a="rdylbu",domain:u=Ob(e),unknown:s,interpolate:c,reverse:l}){return void 0===r&&(r=void 0!==c?n.quantize(c,o):Gg.get(t)===Yg?ib(a,o):void 0),u.length>0&&(u=n.scaleQuantile(u,void 0===r?{length:o}:r).quantiles()),vb(t,0,{domain:u,range:r,reverse:l,unknown:s})}(t,e,r);case"quantize":return function(t,e,{range:r,n:i=(void 0===r?5:(r=[...r]).length),scheme:o="rdylbu",domain:a=mb(t,e),unknown:u,interpolate:s,reverse:c}){const[l,f]=n.extent(a);let h;return void 0===r?(h=n.ticks(l,f,i),h[0]<=l&&h.splice(0,1),h[h.length-1]>=f&&h.pop(),i=h.length+1,r=void 0!==s?n.quantize(s,i):Gg.get(t)===Yg?ib(o,i):void 0):(h=n.quantize(n.interpolateNumber(l,f),i+1).slice(1,-1),l instanceof Date&&(h=h.map((t=>new Date(t))))),Ng(Dg(a))<0&&h.reverse(),vb(t,0,{domain:h,range:r,reverse:c,unknown:u})}(t,e,r);case"pow":return pb(t,e,r);case"log":return function(t,e,{base:r=10,domain:i=xb(e),...o}){return db(t,n.scaleLog().base(r),e,{...o,domain:i})}(t,e,r);case"symlog":return function(t,e,{constant:r=1,...i}){return db(t,n.scaleSymlog().constant(r),e,i)}(t,e,r);case"utc":return function(t,e,r){return Pb(t,n.scaleUtc(),e,r)}(t,e,r);case"time":return function(t,e,r){return Pb(t,n.scaleTime(),e,r)}(t,e,r);case"point":return function(t,e,{align:r=.5,padding:i=.5,...o}){return Lb(n.scalePoint().align(r).padding(i),e,o,t)}(t,e,r);case"band":return function(t,e,{align:r=.5,padding:i=.1,paddingInner:o=i,paddingOuter:a=("fx"===t||"fy"===t?0:i),...u}){return Lb(n.scaleBand().align(r).paddingInner(o).paddingOuter(a),e,u,t)}(t,e,r);case"identity":return Gg.get(t)===Wg?{type:"identity",scale:n.scaleIdentity()}:{type:"identity"};case void 0:return;default:throw new Error(`unknown scale type: ${i}`)}}(t,void 0===r?void 0:[{hint:r}],{...e})}function Rb(t){return"symbol"==typeof t?t.description:t}const Ib={toString:()=>"projection"};function Nb(t){switch(t){case Wg:return"point";case Yg:return $b;default:return"ordinal"}}function Wb(t,{domain:e,...n},r){for(const e of t)void 0!==e.value&&(e.value=r(e.value));return{domain:void 0===e?e:r(e),...n}}function Yb(t){return Pg(t,Kg)}function zb({scale:t,type:e,domain:n,range:r,interpolate:i,interval:o,transform:a,percent:u,pivot:s}){if("identity"===e)return{type:"identity",apply:t=>t,invert:t=>t};const c=t.unknown?t.unknown():void 0;return{type:e,domain:$g(n),...void 0!==r&&{range:$g(r)},...void 0!==a&&{transform:a},...u&&{percent:u},...void 0!==c&&{unknown:c},...void 0!==o&&{interval:o},...void 0!==i&&{interpolate:i},...t.clamp&&{clamp:t.clamp()},...void 0!==s&&{pivot:s,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:e=>t(e),...t.invert&&{invert:e=>t.invert(e)}}}var Fb=function(){function t(e){a(this,t),this.calendar=e}return s(t,[{key:"populate",value:function(){var t=this.calendar,n=t.options.options,r=n.scale,i=n.subDomain,o=function(t){try{var e=Object.keys(t)[0];return function(t={}){let e;for(const n in t)if(Gg.has(n)&&Eg(t[n])){if(void 0!==e)throw new Error("ambiguous scale definition; multiple scales found");e=zb(Ab(n,t[n]))}if(void 0===e)throw new Error("invalid scale definition; no scale found");return e}((n={},r=e,i=Object.assign(Object.assign({},t[e]),{clamp:!0}),(r=d(r))in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n))}catch(t){return null}var n,r,i}(r);t.calendarPainter.root.selectAll(".ch-domain").selectAll("svg").selectAll("g").data((function(e){return t.domainCollection.get(e)||[]})).call((function(t){!function(t,e,n,r){Object.entries(function(t,e){var n={};return e.hasOwnProperty("opacity")?(n.fill=function(){return e.opacity.baseColor||"red"},n["fill-opacity"]=function(e){return null==t?void 0:t.apply(e)}):n.fill=function(e){return"string"==typeof e&&(null==e?void 0:e.startsWith("#"))?e:null==t?void 0:t.apply(e)},n}(e,n)).forEach((function(e){var n=c(e,2),i=n[0],o=n[1];return t.style(i,(function(t){return o(r?t[r]:t)}))}))}(t.select("rect"),o,r,"v")})).call((function(n){n.select("text").attr("style",(function(t){var n=e.hcl(null==o?void 0:o.apply(t.v)).l>60?"#000":"#fff",r=i.color||(t.v?n:null);return $m(r)&&(r=r(t.t,t.v,null==o?void 0:o.apply(t.v))),r?"fill: ".concat(r,";"):null})).text((function(e,n,r){return t.dateHelper.format(e.t,i.label,e.v,r[n])}))})).call((function(){t.eventEmitter.emit("fill")}))}}]),t}();function Hb(t,e){return t===e||t!=t&&e!=e}function Bb(t,e){for(var n=t.length;n--;)if(Hb(t[n][0],e))return n;return-1}var Gb=Array.prototype.splice;function Ub(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ub.prototype.clear=function(){this.__data__=[],this.size=0},Ub.prototype.delete=function(t){var e=this.__data__,n=Bb(e,t);return!(n<0||(n==e.length-1?e.pop():Gb.call(e,n,1),--this.size,0))},Ub.prototype.get=function(t){var e=this.__data__,n=Bb(e,t);return n<0?void 0:e[n][1]},Ub.prototype.has=function(t){return Bb(this.__data__,t)>-1},Ub.prototype.set=function(t,e){var n=this.__data__,r=Bb(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var qb=pm["__core-js_shared__"],Vb=function(){var t=/[^.]+$/.exec(qb&&qb.keys&&qb.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Kb=Function.prototype.toString;function Zb(t){if(null!=t){try{return Kb.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var Qb=/^\[object .+?Constructor\]$/,Jb=Function.prototype,Xb=Object.prototype,tw=Jb.toString,ew=Xb.hasOwnProperty,nw=RegExp("^"+tw.call(ew).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function rw(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!jm(t)||(e=t,Vb&&Vb in e))&&($m(t)?nw:Qb).test(Zb(t));var e}(n)?n:void 0}var iw=rw(pm,"Map"),ow=rw(Object,"create"),aw=Object.prototype.hasOwnProperty,uw=Object.prototype.hasOwnProperty;function sw(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function cw(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function lw(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function fw(t){var e=this.__data__=new Ub(t);this.size=e.size}sw.prototype.clear=function(){this.__data__=ow?ow(null):{},this.size=0},sw.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},sw.prototype.get=function(t){var e=this.__data__;if(ow){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return aw.call(e,t)?e[t]:void 0},sw.prototype.has=function(t){var e=this.__data__;return ow?void 0!==e[t]:uw.call(e,t)},sw.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ow&&void 0===e?"__lodash_hash_undefined__":e,this},lw.prototype.clear=function(){this.size=0,this.__data__={hash:new sw,map:new(iw||Ub),string:new sw}},lw.prototype.delete=function(t){var e=cw(this,t).delete(t);return this.size-=e?1:0,e},lw.prototype.get=function(t){return cw(this,t).get(t)},lw.prototype.has=function(t){return cw(this,t).has(t)},lw.prototype.set=function(t,e){var n=cw(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},fw.prototype.clear=function(){this.__data__=new Ub,this.size=0},fw.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},fw.prototype.get=function(t){return this.__data__.get(t)},fw.prototype.has=function(t){return this.__data__.has(t)},fw.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Ub){var r=n.__data__;if(!iw||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new lw(r)}return n.set(t,e),this.size=n.size,this};var hw=function(){try{var t=rw(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),dw=hw;function pw(t,e,n){"__proto__"==e&&dw?dw(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function vw(t,e,n){(void 0!==n&&!Hb(t[e],n)||void 0===n&&!(e in t))&&pw(t,e,n)}var yw=function(t,e,n){for(var r=-1,i=Object(t),o=n(t),a=o.length;a--;){var u=o[++r];if(!1===e(i[u],u,i))break}return t},mw="object"==typeof exports&&exports&&!exports.nodeType&&exports,gw=mw&&"object"==typeof module&&module&&!module.nodeType&&module,bw=gw&&gw.exports===mw?pm.Buffer:void 0,ww=(bw&&bw.allocUnsafe,pm.Uint8Array);var xw=Object.create,Ow=function(){function t(){}return function(e){if(!jm(e))return{};if(xw)return xw(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function kw(t,e){return function(n){return t(e(n))}}var Sw=kw(Object.getPrototypeOf,Object),jw=Object.prototype;function _w(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||jw)}function Mw(t){return null!=t&&"object"==typeof t}function Dw(t){return Mw(t)&&"[object Arguments]"==Sm(t)}var Pw=Object.prototype,$w=Pw.hasOwnProperty,Ew=Pw.propertyIsEnumerable,Lw=Dw(function(){return arguments}())?Dw:function(t){return Mw(t)&&$w.call(t,"callee")&&!Ew.call(t,"callee")},Tw=Lw,Cw=9007199254740991;function Aw(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Cw}function Rw(t){return null!=t&&Aw(t.length)&&!$m(t)}var Iw="object"==typeof exports&&exports&&!exports.nodeType&&exports,Nw=Iw&&"object"==typeof module&&module&&!module.nodeType&&module,Ww=Nw&&Nw.exports===Iw?pm.Buffer:void 0,Yw=(Ww?Ww.isBuffer:void 0)||function(){return!1},zw="[object Object]",Fw=Function.prototype,Hw=Object.prototype,Bw=Fw.toString,Gw=Hw.hasOwnProperty,Uw=Bw.call(Object),qw={};qw["[object Float32Array]"]=qw["[object Float64Array]"]=qw["[object Int8Array]"]=qw["[object Int16Array]"]=qw["[object Int32Array]"]=qw["[object Uint8Array]"]=qw["[object Uint8ClampedArray]"]=qw["[object Uint16Array]"]=qw["[object Uint32Array]"]=!0,qw["[object Arguments]"]=qw["[object Array]"]=qw["[object ArrayBuffer]"]=qw["[object Boolean]"]=qw["[object DataView]"]=qw["[object Date]"]=qw["[object Error]"]=qw["[object Function]"]=qw["[object Map]"]=qw["[object Number]"]=qw["[object Object]"]=qw["[object RegExp]"]=qw["[object Set]"]=qw["[object String]"]=qw["[object WeakMap]"]=!1;var Vw,Kw="object"==typeof exports&&exports&&!exports.nodeType&&exports,Zw=Kw&&"object"==typeof module&&module&&!module.nodeType&&module,Qw=Zw&&Zw.exports===Kw&&hm.process,Jw=function(){try{return Zw&&Zw.require&&Zw.require("util").types||Qw&&Qw.binding&&Qw.binding("util")}catch(t){}}(),Xw=Jw&&Jw.isTypedArray,tx=Xw?(Vw=Xw,function(t){return Vw(t)}):function(t){return Mw(t)&&Aw(t.length)&&!!qw[Sm(t)]};function ex(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var nx=Object.prototype.hasOwnProperty;function rx(t,e,n){var r=t[e];nx.call(t,e)&&Hb(r,n)&&(void 0!==n||e in t)||pw(t,e,n)}var ix=9007199254740991,ox=/^(?:0|[1-9]\d*)$/;function ax(t,e){var n=typeof t;return!!(e=null==e?ix:e)&&("number"==n||"symbol"!=n&&ox.test(t))&&t>-1&&t%1==0&&t<e}var ux=Object.prototype.hasOwnProperty;function sx(t,e){var n=fh(t),r=!n&&Tw(t),i=!n&&!r&&Yw(t),o=!n&&!r&&!i&&tx(t),a=n||r||i||o,u=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],s=u.length;for(var c in t)!e&&!ux.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ax(c,s))||u.push(c);return u}var cx=Object.prototype.hasOwnProperty;function lx(t){return Rw(t)?sx(t,!0):function(t){if(!jm(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=_w(t),n=[];for(var r in t)("constructor"!=r||!e&&cx.call(t,r))&&n.push(r);return n}(t)}function fx(t,e,n,r,i,o,a){var u=ex(t,n),s=ex(e,n),c=a.get(s);if(c)vw(t,n,c);else{var l,f=o?o(u,s,n+"",t,e,a):void 0,h=void 0===f;if(h){var d=fh(s),p=!d&&Yw(s),v=!d&&!p&&tx(s);f=s,d||p||v?fh(u)?f=u:Mw(l=u)&&Rw(l)?f=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}(u):p?(h=!1,f=function(t,e){return t.slice()}(s)):v?(h=!1,f=function(t,e){var n,r,i=e?(r=new(n=t.buffer).constructor(n.byteLength),new ww(r).set(new ww(n)),r):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}(s,!0)):f=[]:function(t){if(!Mw(t)||Sm(t)!=zw)return!1;var e=Sw(t);if(null===e)return!0;var n=Gw.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Bw.call(n)==Uw}(s)||Tw(s)?(f=u,Tw(u)?f=function(t){return function(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var u=e[o],s=void 0;void 0===s&&(s=t[u]),i?pw(n,u,s):rx(n,u,s)}return n}(t,lx(t))}(u):jm(u)&&!$m(u)||(f=function(t){return"function"!=typeof t.constructor||_w(t)?{}:Ow(Sw(t))}(s))):h=!1}h&&(a.set(s,f),i(f,s,r,o,a),a.delete(s)),vw(t,n,f)}}function hx(t,e,n,r,i){t!==e&&yw(e,(function(o,a){if(i||(i=new fw),jm(o))fx(t,e,a,n,hx,r,i);else{var u=r?r(ex(t,a),o,a+"",t,e,i):void 0;void 0===u&&(u=o),vw(t,a,u)}}),lx)}function dx(t){return t}var px=Math.max,vx=dw?function(t,e){return dw(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:dx,yx=vx,mx=Date.now,gx=function(t){var e=0,n=0;return function(){var r=mx(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(yx),bx=gx;var wx,xx=(wx=function(t,e,n,r){hx(t,e,n,r)},function(t,e){return bx(function(t,e,n){return e=px(void 0===e?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=px(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var u=Array(e+1);++i<e;)u[i]=r[i];return u[e]=n(a),function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}(t,this,u)}}(t,e,dx),t+"")}((function(t,e){var n=-1,r=e.length,i=r>1?e[r-1]:void 0,o=r>2?e[2]:void 0;for(i=wx.length>3&&"function"==typeof i?(r--,i):void 0,o&&function(t,e,n){if(!jm(n))return!1;var r=typeof e;return!!("number"==r?Rw(n)&&ax(e,n.length):"string"==r&&e in n)&&Hb(n[e],t)}(e[0],e[1],o)&&(i=r<3?void 0:i,r=1),t=Object(t);++n<r;){var a=e[n];a&&wx(t,a,n,i)}return t}))),Ox=xx;function kx(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new lw;++e<n;)this.add(t[e])}function Sx(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}kx.prototype.add=kx.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},kx.prototype.has=function(t){return this.__data__.has(t)};var jx=1,_x=2;function Mx(t,e,n,r,i,o){var a=n&jx,u=t.length,s=e.length;if(u!=s&&!(a&&s>u))return!1;var c=o.get(t),l=o.get(e);if(c&&l)return c==e&&l==t;var f=-1,h=!0,d=n&_x?new kx:void 0;for(o.set(t,e),o.set(e,t);++f<u;){var p=t[f],v=e[f];if(r)var y=a?r(v,p,f,e,t,o):r(p,v,f,t,e,o);if(void 0!==y){if(y)continue;h=!1;break}if(d){if(!Sx(e,(function(t,e){if(a=e,!d.has(a)&&(p===t||i(p,t,n,r,o)))return d.push(e);var a}))){h=!1;break}}else if(p!==v&&!i(p,v,n,r,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function Dx(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function Px(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var $x=1,Ex=2,Lx="[object Boolean]",Tx="[object Date]",Cx="[object Error]",Ax="[object Map]",Rx="[object Number]",Ix="[object RegExp]",Nx="[object Set]",Wx="[object String]",Yx="[object Symbol]",zx="[object ArrayBuffer]",Fx="[object DataView]",Hx=vm?vm.prototype:void 0,Bx=Hx?Hx.valueOf:void 0,Gx=Object.prototype.propertyIsEnumerable,Ux=Object.getOwnPropertySymbols,qx=Ux?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a)&&(o[i++]=a)}return o}(Ux(t),(function(e){return Gx.call(t,e)})))}:function(){return[]},Vx=qx,Kx=kw(Object.keys,Object),Zx=Object.prototype.hasOwnProperty;function Qx(t){return Rw(t)?sx(t):function(t){if(!_w(t))return Kx(t);var e=[];for(var n in Object(t))Zx.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}function Jx(t){return function(t,e,n){var r=e(t);return fh(t)?r:function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}(r,n(t))}(t,Qx,Vx)}var Xx=1,tO=Object.prototype.hasOwnProperty,eO=rw(pm,"DataView"),nO=rw(pm,"Promise"),rO=rw(pm,"Set"),iO=rw(pm,"WeakMap"),oO="[object Map]",aO="[object Promise]",uO="[object Set]",sO="[object WeakMap]",cO="[object DataView]",lO=Zb(eO),fO=Zb(iw),hO=Zb(nO),dO=Zb(rO),pO=Zb(iO),vO=Sm;(eO&&vO(new eO(new ArrayBuffer(1)))!=cO||iw&&vO(new iw)!=oO||nO&&vO(nO.resolve())!=aO||rO&&vO(new rO)!=uO||iO&&vO(new iO)!=sO)&&(vO=function(t){var e=Sm(t),n="[object Object]"==e?t.constructor:void 0,r=n?Zb(n):"";if(r)switch(r){case lO:return cO;case fO:return oO;case hO:return aO;case dO:return uO;case pO:return sO}return e});var yO=vO,mO=1,gO="[object Arguments]",bO="[object Array]",wO="[object Object]",xO=Object.prototype.hasOwnProperty;function OO(t,e,n,r,i){return t===e||(null==t||null==e||!Mw(t)&&!Mw(e)?t!=t&&e!=e:function(t,e,n,r,i,o){var a=fh(t),u=fh(e),s=a?bO:yO(t),c=u?bO:yO(e),l=(s=s==gO?wO:s)==wO,f=(c=c==gO?wO:c)==wO,h=s==c;if(h&&Yw(t)){if(!Yw(e))return!1;a=!0,l=!1}if(h&&!l)return o||(o=new fw),a||tx(t)?Mx(t,e,n,r,i,o):function(t,e,n,r,i,o,a){switch(n){case Fx:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case zx:return!(t.byteLength!=e.byteLength||!o(new ww(t),new ww(e)));case Lx:case Tx:case Rx:return Hb(+t,+e);case Cx:return t.name==e.name&&t.message==e.message;case Ix:case Wx:return t==e+"";case Ax:var u=Dx;case Nx:var s=r&$x;if(u||(u=Px),t.size!=e.size&&!s)return!1;var c=a.get(t);if(c)return c==e;r|=Ex,a.set(t,e);var l=Mx(u(t),u(e),r,i,o,a);return a.delete(t),l;case Yx:if(Bx)return Bx.call(t)==Bx.call(e)}return!1}(t,e,s,n,r,i,o);if(!(n&mO)){var d=l&&xO.call(t,"__wrapped__"),p=f&&xO.call(e,"__wrapped__");if(d||p){var v=d?t.value():t,y=p?e.value():e;return o||(o=new fw),i(v,y,n,r,o)}}return!!h&&(o||(o=new fw),function(t,e,n,r,i,o){var a=n&Xx,u=Jx(t),s=u.length;if(s!=Jx(e).length&&!a)return!1;for(var c=s;c--;){var l=u[c];if(!(a?l in e:tO.call(e,l)))return!1}var f=o.get(t),h=o.get(e);if(f&&h)return f==e&&h==t;var d=!0;o.set(t,e),o.set(e,t);for(var p=a;++c<s;){var v=t[l=u[c]],y=e[l];if(r)var m=a?r(y,v,l,e,t,o):r(v,y,l,t,e,o);if(!(void 0===m?v===y||i(v,y,n,r,o):m)){d=!1;break}p||(p="constructor"==l)}if(d&&!p){var g=t.constructor,b=e.constructor;g==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof g&&g instanceof g&&"function"==typeof b&&b instanceof b||(d=!1)}return o.delete(t),o.delete(e),d}(t,e,n,r,i,o))}(t,e,n,r,OO,i))}function kO(t,e){return OO(t,e)}var SO=Object.prototype.hasOwnProperty;function jO(t,e){return null!=t&&SO.call(t,e)}var _O="[object Symbol]";function MO(t){return"symbol"==typeof t||Mw(t)&&Sm(t)==_O}var DO=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,PO=/^\w*$/;function $O(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new($O.Cache||lw),n}$O.Cache=lw;var EO=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,LO=/\\(\\)?/g,TO=function(t){var e=$O((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(EO,(function(t,n,r,i){e.push(r?i.replace(LO,"$1"):n||t)})),e}),(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}(),CO=TO,AO=1/0,RO=vm?vm.prototype:void 0,IO=RO?RO.toString:void 0;function NO(t){if("string"==typeof t)return t;if(fh(t))return function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}(t,NO)+"";if(MO(t))return IO?IO.call(t):"";var e=t+"";return"0"==e&&1/t==-AO?"-0":e}function WO(t,e){return fh(t)?t:function(t,e){if(fh(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!MO(t))||PO.test(t)||!DO.test(t)||null!=e&&t in Object(e)}(t,e)?[t]:CO(function(t){return null==t?"":NO(t)}(t))}var YO=1/0;function zO(t){if("string"==typeof t||MO(t))return t;var e=t+"";return"0"==e&&1/t==-YO?"-0":e}function FO(t,e){return null!=t&&function(t,e,n){for(var r=-1,i=(e=WO(e,t)).length,o=!1;++r<i;){var a=zO(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Aw(i)&&ax(a,i)&&(fh(t)||Tw(t))}(t,e,jO)}function HO(t,e,n){var r=null==t?void 0:function(t,e){for(var n=0,r=(e=WO(e,t)).length;null!=t&&n<r;)t=t[zO(e[n++])];return n&&n==r?t:void 0}(t,e);return void 0===r?n:r}function BO(t,e,n){return null==t?t:function(t,e,n,r){if(!jm(t))return t;for(var i=-1,o=(e=WO(e,t)).length,a=o-1,u=t;null!=u&&++i<o;){var s=zO(e[i]),c=n;if("__proto__"===s||"constructor"===s||"prototype"===s)return t;if(i!=a){var l=u[s];void 0===(c=void 0)&&(c=jm(l)?l:ax(e[i+1])?[]:{})}rx(u,s,c),u=u[s]}return t}(t,e,n)}var GO,UO,qO={range:function(t){return Math.max(+t,1)},"date.highlight":function(t){return hh(t)},"subDomain.label":function(t){return function(t){return"string"==typeof t||!fh(t)&&Mw(t)&&"[object String]"==Sm(t)}(t)&&""!==t||$m(t)?t:null}},VO=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qO;a(this,t),this.preProcessors=e,this.options={itemSelector:"#cal-heatmap",range:12,domain:{type:"hour",gutter:4,padding:[0,0,0,0],dynamicDimension:!0,sort:"asc",label:{text:void 0,position:"bottom",textAlign:"middle",offset:{x:0,y:0},rotate:null,width:100,height:25}},subDomain:{type:"minute",width:10,height:10,gutter:2,radius:0,label:null,color:void 0,sort:"asc"},date:{start:new Date,min:void 0,max:void 0,highlight:[],locale:"en",timezone:void 0},verticalOrientation:!1,data:{source:"",type:"json",requestInit:{},x:"",y:"",groupY:"sum",defaultValue:null},scale:void 0,animationDuration:200,theme:"light",x:{domainHorizontalLabelWidth:0,domainVerticalLabelHeight:0}}}return s(t,[{key:"set",value:function(t,e){return!(!FO(this.options,t)||kO(HO(this.options,t),e)||(BO(this.options,t,FO(this.preProcessors,t)?HO(this.preProcessors,t)(e):e),0))}},{key:"init",value:function(t){var e=this;this.options=Object.assign({},Ox(this.options,t,(function(t,e){return Array.isArray(e)?e:void 0})));var n=this.options;Object.keys(this.preProcessors).forEach((function(t){BO(n,t,HO(e.preProcessors,t)(HO(n,t)))})),void 0===n.scale&&this.initScale(),n.x.domainVerticalLabelHeight=n.domain.label.height,"top"===n.domain.label.position||"bottom"===n.domain.label.position?n.x.domainHorizontalLabelWidth=0:(n.x.domainVerticalLabelHeight=0,n.x.domainHorizontalLabelWidth=n.domain.label.width),null!==n.domain.label.text&&""!==n.domain.label.text||(n.x.domainVerticalLabelHeight=0,n.x.domainHorizontalLabelWidth=0)}},{key:"initScale",value:function(){this.options.scale={color:{scheme:"YlOrBr",type:"quantize",domain:vp}}}}]),t}(),KO=Yt,ZO=P,QO=m.RegExp,JO=ZO((function(){var t=QO("a","y");return t.lastIndex=2,null!==t.exec("abcd")})),XO=JO||ZO((function(){return!QO("a","y").sticky})),tk=JO||ZO((function(){var t=QO("^r","gy");return t.lastIndex=2,null!==t.exec("str")})),ek={BROKEN_CARET:tk,MISSED_STICKY:XO,UNSUPPORTED_Y:JO},nk=P,rk=m.RegExp,ik=nk((function(){var t=rk(".","s");return!(t.dotAll&&t.test("\n")&&"s"===t.flags)})),ok=P,ak=m.RegExp,uk=ok((function(){var t=ak("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})),sk=Ht,ck=A,lk=tf,fk=function(){var t=KO(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e},hk=ek,dk=Cc,pk=mn.get,vk=ik,yk=uk,mk=D("native-string-replace",String.prototype.replace),gk=RegExp.prototype.exec,bk=gk,wk=ck("".charAt),xk=ck("".indexOf),Ok=ck("".replace),kk=ck("".slice),Sk=(UO=/b*/g,sk(gk,GO=/a/,"a"),sk(gk,UO,"a"),0!==GO.lastIndex||0!==UO.lastIndex),jk=hk.BROKEN_CARET,_k=void 0!==/()??/.exec("")[1];(Sk||_k||jk||vk||yk)&&(bk=function(t){var e,n,r,i,o,a,u,s=this,c=pk(s),l=lk(t),f=c.raw;if(f)return f.lastIndex=s.lastIndex,e=sk(bk,f,l),s.lastIndex=f.lastIndex,e;var h=c.groups,d=jk&&s.sticky,p=sk(fk,s),v=s.source,y=0,m=l;if(d&&(p=Ok(p,"y",""),-1===xk(p,"g")&&(p+="g"),m=kk(l,s.lastIndex),s.lastIndex>0&&(!s.multiline||s.multiline&&"\n"!==wk(l,s.lastIndex-1))&&(v="(?: "+v+")",m=" "+m,y++),n=new RegExp("^(?:"+v+")",p)),_k&&(n=new RegExp("^"+v+"$(?!\\s)",p)),Sk&&(r=s.lastIndex),i=sk(gk,d?n:s,m),d?i?(i.input=kk(i.input,y),i[0]=kk(i[0],y),i.index=s.lastIndex,s.lastIndex+=i[0].length):s.lastIndex=0:Sk&&i&&(s.lastIndex=s.global?i.index+i[0].length:r),_k&&i&&i.length>1&&sk(mk,i[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)})),i&&h)for(i.groups=a=dk(null),o=0;o<h.length;o++)a[(u=h[o])[0]]=i[u[1]];return i});var Mk=bk;ki({target:"RegExp",proto:!0,forced:/./.exec!==Mk},{exec:Mk});var Dk,Pk,$k=jo,Ek=Yn,Lk=Mk,Tk=P,Ck=gt,Ak=Je,Rk=Ck("species"),Ik=RegExp.prototype,Nk=lf.charAt,Wk=A,Yk=F,zk=Math.floor,Fk=Wk("".charAt),Hk=Wk("".replace),Bk=Wk("".slice),Gk=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Uk=/\$([$&'`]|\d{1,2})/g,qk=Ht,Vk=Yt,Kk=St,Zk=Bn,Qk=Mk,Jk=TypeError,Xk=Oo,tS=Ht,eS=A,nS=P,rS=Yt,iS=St,oS=R,aS=_r,uS=Tr,sS=tf,cS=W,lS=function(t,e,n){return e+(n?Nk(t,e).length:1)},fS=ue,hS=function(t,e,n,r,i,o){var a=n+t.length,u=r.length,s=Uk;return void 0!==i&&(i=Yk(i),s=Gk),Hk(o,s,(function(o,s){var c;switch(Fk(s,0)){case"$":return"$";case"&":return t;case"`":return Bk(e,0,n);case"'":return Bk(e,a);case"<":c=i[Bk(s,1,-1)];break;default:var l=+s;if(0===l)return o;if(l>u){var f=zk(l/10);return 0===f?o:f<=u?void 0===r[f-1]?Fk(s,1):r[f-1]+Fk(s,1):o}c=r[l-1]}return void 0===c?"":c}))},dS=function(t,e){var n=t.exec;if(Kk(n)){var r=qk(n,t,e);return null!==r&&Vk(r),r}if("RegExp"===Zk(t))return qk(Qk,t,e);throw new Jk("RegExp#exec called on incompatible receiver")},pS=gt("replace"),vS=Math.max,yS=Math.min,mS=eS([].concat),gS=eS([].push),bS=eS("".indexOf),wS=eS("".slice),xS="$0"==="a".replace(/./,"$0"),OS=!!/./[pS]&&""===/./[pS]("a","$0"),kS=!nS((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}));!function(t,e,n,r){var i=Ck(t),o=!Tk((function(){var e={};return e[i]=function(){return 7},7!==""[t](e)})),a=o&&!Tk((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[Rk]=function(){return n},n.flags="",n[i]=/./[i]),n.exec=function(){return e=!0,null},n[i](""),!e}));if(!o||!a||n){var u=$k(/./[i]),s=e(i,""[t],(function(t,e,n,r,i){var a=$k(t),s=e.exec;return s===Lk||s===Ik.exec?o&&!i?{done:!0,value:u(e,n,r)}:{done:!0,value:a(n,e,r)}:{done:!1}}));Ek(String.prototype,t,s[0]),Ek(Ik,i,s[1])}r&&Ak(Ik[i],"sham",!0)}("replace",(function(t,e,n){var r=OS?"$":"$0";return[function(t,n){var r=cS(this),i=oS(t)?void 0:fS(t,pS);return i?tS(i,t,r,n):tS(e,sS(r),t,n)},function(t,i){var o=rS(this),a=sS(t);if("string"==typeof i&&-1===bS(i,r)&&-1===bS(i,"$<")){var u=n(e,o,a,i);if(u.done)return u.value}var s=iS(i);s||(i=sS(i));var c,l=o.global;l&&(c=o.unicode,o.lastIndex=0);for(var f,h=[];null!==(f=dS(o,a))&&(gS(h,f),l);)""===sS(f[0])&&(o.lastIndex=lS(a,uS(o.lastIndex),c));for(var d,p="",v=0,y=0;y<h.length;y++){for(var m,g=sS((f=h[y])[0]),b=vS(yS(aS(f.index),a.length),0),w=[],x=1;x<f.length;x++)gS(w,void 0===(d=f[x])?d:String(d));var O=f.groups;if(s){var k=mS([g],w,b,a);void 0!==O&&gS(k,O),m=sS(Xk(i,void 0,k))}else m=hS(g,a,b,w,O,i);b>=v&&(p+=wS(a,v,b)+m,v=b+g.length)}return p+wS(a,v)}]}),!kS||!xS||OS);var SS=function(){function t(e){a(this,t),Dk.add(this),this.calendar=e}return s(t,[{key:"getDatas",value:function(t,e,n){return uh(this,void 0,void 0,i().mark((function r(){var o;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!("string"==typeof t&&t.length>0)){r.next=2;break}return r.abrupt("return",sh(this,Dk,"m",Pk).call(this,t,e,n));case 2:return o=[],Array.isArray(t)&&(o=t),r.abrupt("return",new Promise((function(t){t(o)})));case 5:case"end":return r.stop()}}),r,this)})))}},{key:"parseURI",value:function(t,e,n){var r=this,i=t.replace(/\{\{start=(.*?)\}\}/g,(function(t,n){return r.calendar.dateHelper.date(e).format(n)}));return i.replace(/\{\{end=(.*?)\}\}/g,(function(t,e){return r.calendar.dateHelper.date(n).format(e)}))}}]),t}();Dk=new WeakSet,Pk=function(t,e,n){var i=this.calendar.options.options.data,o=i.type,a=i.requestInit,u=this.parseURI(t,e,n);switch(o){case"json":return r.json(u,a);case"csv":return r.csv(u,a);case"tsv":return r.dsv("\t",u,a);case"txt":return r.text(u,a);default:return new Promise((function(t){t([])}))}};var jS=_t,_S=Ne.EXISTS,MS=A,DS=Ni,PS=Function.prototype,$S=MS(PS.toString),ES=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,LS=MS(ES.exec);jS&&!_S&&DS(PS,"name",{configurable:!0,get:function(){try{return LS(ES,$S(this))[1]}catch(t){return""}}});var TS={exports:{}};!function(t,e){t.exports=function(){var t=6e4,e=36e5,n="millisecond",r="second",i="minute",o="hour",a="day",u="week",s="month",c="quarter",l="year",f="date",h="Invalid Date",d=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],n=t%100;return"["+t+(e[(n-20)%10]||e[n]||e[0])+"]"}},y=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},m={s:y,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+y(r,2,"0")+":"+y(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,s),o=n-i<0,a=e.clone().add(r+(o?-1:1),s);return+(-(r+(n-i)/(o?i-a:a-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:s,y:l,w:u,d:a,D:f,h:o,m:i,s:r,ms:n,Q:c}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},g="en",b={};b[g]=v;var w="$isDayjsObject",x=function(t){return t instanceof j||!(!t||!t[w])},O=function t(e,n,r){var i;if(!e)return g;if("string"==typeof e){var o=e.toLowerCase();b[o]&&(i=o),n&&(b[o]=n,i=o);var a=e.split("-");if(!i&&a.length>1)return t(a[0])}else{var u=e.name;b[u]=e,i=u}return!r&&i&&(g=i),i||!r&&g},k=function(t,e){if(x(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new j(n)},S=m;S.l=O,S.i=x,S.w=function(t,e){return k(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var j=function(){function v(t){this.$L=O(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[w]=!0}var y=v.prototype;return y.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(S.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(d);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(e)}(t),this.init()},y.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},y.$utils=function(){return S},y.isValid=function(){return!(this.$d.toString()===h)},y.isSame=function(t,e){var n=k(t);return this.startOf(e)<=n&&n<=this.endOf(e)},y.isAfter=function(t,e){return k(t)<this.startOf(e)},y.isBefore=function(t,e){return this.endOf(e)<k(t)},y.$g=function(t,e,n){return S.u(t)?this[e]:this.set(n,t)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(t,e){var n=this,c=!!S.u(e)||e,h=S.p(t),d=function(t,e){var r=S.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return c?r:r.endOf(a)},p=function(t,e){return S.w(n.toDate()[t].apply(n.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},v=this.$W,y=this.$M,m=this.$D,g="set"+(this.$u?"UTC":"");switch(h){case l:return c?d(1,0):d(31,11);case s:return c?d(1,y):d(0,y+1);case u:var b=this.$locale().weekStart||0,w=(v<b?v+7:v)-b;return d(c?m-w:m+(6-w),y);case a:case f:return p(g+"Hours",0);case o:return p(g+"Minutes",1);case i:return p(g+"Seconds",2);case r:return p(g+"Milliseconds",3);default:return this.clone()}},y.endOf=function(t){return this.startOf(t,!1)},y.$set=function(t,e){var u,c=S.p(t),h="set"+(this.$u?"UTC":""),d=(u={},u[a]=h+"Date",u[f]=h+"Date",u[s]=h+"Month",u[l]=h+"FullYear",u[o]=h+"Hours",u[i]=h+"Minutes",u[r]=h+"Seconds",u[n]=h+"Milliseconds",u)[c],p=c===a?this.$D+(e-this.$W):e;if(c===s||c===l){var v=this.clone().set(f,1);v.$d[d](p),v.init(),this.$d=v.set(f,Math.min(this.$D,v.daysInMonth())).$d}else d&&this.$d[d](p);return this.init(),this},y.set=function(t,e){return this.clone().$set(t,e)},y.get=function(t){return this[S.p(t)]()},y.add=function(n,c){var f,h=this;n=Number(n);var d=S.p(c),p=function(t){var e=k(h);return S.w(e.date(e.date()+Math.round(t*n)),h)};if(d===s)return this.set(s,this.$M+n);if(d===l)return this.set(l,this.$y+n);if(d===a)return p(1);if(d===u)return p(7);var v=(f={},f[i]=t,f[o]=e,f[r]=1e3,f)[d]||1,y=this.$d.getTime()+n*v;return S.w(y,this)},y.subtract=function(t,e){return this.add(-1*t,e)},y.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var r=t||"YYYY-MM-DDTHH:mm:ssZ",i=S.z(this),o=this.$H,a=this.$m,u=this.$M,s=n.weekdays,c=n.months,l=n.meridiem,f=function(t,n,i,o){return t&&(t[n]||t(e,r))||i[n].slice(0,o)},d=function(t){return S.s(o%12||12,t,"0")},v=l||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(p,(function(t,r){return r||function(t){switch(t){case"YY":return String(e.$y).slice(-2);case"YYYY":return S.s(e.$y,4,"0");case"M":return u+1;case"MM":return S.s(u+1,2,"0");case"MMM":return f(n.monthsShort,u,c,3);case"MMMM":return f(c,u);case"D":return e.$D;case"DD":return S.s(e.$D,2,"0");case"d":return String(e.$W);case"dd":return f(n.weekdaysMin,e.$W,s,2);case"ddd":return f(n.weekdaysShort,e.$W,s,3);case"dddd":return s[e.$W];case"H":return String(o);case"HH":return S.s(o,2,"0");case"h":return d(1);case"hh":return d(2);case"a":return v(o,a,!0);case"A":return v(o,a,!1);case"m":return String(a);case"mm":return S.s(a,2,"0");case"s":return String(e.$s);case"ss":return S.s(e.$s,2,"0");case"SSS":return S.s(e.$ms,3,"0");case"Z":return i}return null}(t)||i.replace(":","")}))},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(n,f,h){var d,p=this,v=S.p(f),y=k(n),m=(y.utcOffset()-this.utcOffset())*t,g=this-y,b=function(){return S.m(p,y)};switch(v){case l:d=b()/12;break;case s:d=b();break;case c:d=b()/3;break;case u:d=(g-m)/6048e5;break;case a:d=(g-m)/864e5;break;case o:d=g/e;break;case i:d=g/t;break;case r:d=g/1e3;break;default:d=g}return h?d:S.a(d)},y.daysInMonth=function(){return this.endOf(s).$D},y.$locale=function(){return b[this.$L]},y.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=O(t,e,!0);return r&&(n.$L=r),n},y.clone=function(){return S.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},v}(),_=j.prototype;return k.prototype=_,[["$ms",n],["$s",r],["$m",i],["$H",o],["$W",a],["$M",s],["$y",l],["$D",f]].forEach((function(t){_[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),k.extend=function(t,e){return t.$i||(t(e,j,k),t.$i=!0),k},k.locale=O,k.isDayjs=x,k.unix=function(t){return k(1e3*t)},k.en=b[g],k.Ls=b,k.p={},k}()}(TS);var CS=v(TS.exports),AS={exports:{}};!function(t,e){var n,r;t.exports=(n="week",r="year",function(t,e,i){var o=e.prototype;o.week=function(t){if(void 0===t&&(t=null),null!==t)return this.add(7*(t-this.week()),"day");var e=this.$locale().yearStart||1;if(11===this.month()&&this.date()>25){var o=i(this).startOf(r).add(1,r).date(e),a=i(this).endOf(n);if(o.isBefore(a))return 1}var u=i(this).startOf(r).date(e).startOf(n).subtract(1,"millisecond"),s=this.diff(u,n,!0);return s<0?i(this).startOf("week").week():Math.ceil(s)},o.weeks=function(t){return void 0===t&&(t=null),this.week(t)}})}(AS);var RS=v(AS.exports),IS={exports:{}};!function(t,e){t.exports=function(t,e,n){e.prototype.dayOfYear=function(t){var e=Math.round((n(this).startOf("day")-n(this).startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"day")}}}(IS);var NS=v(IS.exports),WS={exports:{}};!function(t,e){t.exports=function(t,e){e.prototype.weekday=function(t){var e=this.$locale().weekStart||0,n=this.$W,r=(n<e?n+7:n)-e;return this.$utils().u(t)?r:this.subtract(r,"day").add(t,"day")}}}(WS);var YS=v(WS.exports),zS={exports:{}};!function(t,e){t.exports=function(t,e,n){var r=function(t,e){if(!e||!e.length||1===e.length&&!e[0]||1===e.length&&Array.isArray(e[0])&&!e[0].length)return null;var n;1===e.length&&e[0].length>0&&(e=e[0]),n=(e=e.filter((function(t){return t})))[0];for(var r=1;r<e.length;r+=1)e[r].isValid()&&!e[r][t](n)||(n=e[r]);return n};n.max=function(){var t=[].slice.call(arguments,0);return r("isAfter",t)},n.min=function(){var t=[].slice.call(arguments,0);return r("isBefore",t)}}}(zS);var FS=v(zS.exports),HS={exports:{}};!function(t,e){t.exports=function(t,e){e.prototype.isoWeeksInYear=function(){var t=this.isLeapYear(),e=this.endOf("y").day();return 4===e||t&&5===e?53:52}}}(HS);var BS=v(HS.exports),GS={exports:{}};!function(t,e){var n;t.exports=(n="day",function(t,e,r){var i=function(t){return t.add(4-t.isoWeekday(),n)},o=e.prototype;o.isoWeekYear=function(){return i(this).year()},o.isoWeek=function(t){if(!this.$utils().u(t))return this.add(7*(t-this.isoWeek()),n);var e,o,a,u=i(this),s=(e=this.isoWeekYear(),a=4-(o=(this.$u?r.utc:r)().year(e).startOf("year")).isoWeekday(),o.isoWeekday()>4&&(a+=7),o.add(a,n));return u.diff(s,"week")+1},o.isoWeekday=function(t){return this.$utils().u(t)?this.day()||7:this.day(this.day()%7?t:t-7)};var a=o.startOf;o.startOf=function(t,e){var n=this.$utils(),r=!!n.u(e)||e;return"isoweek"===n.p(t)?r?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):a.bind(this)(t,e)}})}(GS);var US=v(GS.exports),qS={exports:{}};!function(t,e){t.exports=function(t,e){e.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}}(qS);var VS=v(qS.exports),KS={exports:{}};!function(t,e){t.exports=function(t,e){var n=e.prototype,r=n.format;n.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return r.bind(this)(t);var i=this.$utils(),o=(t||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(t){switch(t){case"Q":return Math.ceil((e.$M+1)/3);case"Do":return n.ordinal(e.$D);case"gggg":return e.weekYear();case"GGGG":return e.isoWeekYear();case"wo":return n.ordinal(e.week(),"W");case"w":case"ww":return i.s(e.week(),"w"===t?1:2,"0");case"W":case"WW":return i.s(e.isoWeek(),"W"===t?1:2,"0");case"k":case"kk":return i.s(String(0===e.$H?24:e.$H),"k"===t?1:2,"0");case"X":return Math.floor(e.$d.getTime()/1e3);case"x":return e.$d.getTime();case"z":return"["+e.offsetName()+"]";case"zzz":return"["+e.offsetName("long")+"]";default:return t}}));return r.bind(this)(o)}}}(KS);var ZS=v(KS.exports),QS={exports:{}};!function(t,e){var n,r,i;t.exports=(n="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g,function(t,e,o){var a=e.prototype;o.utc=function(t){return new e({date:t,utc:!0,args:arguments})},a.utc=function(t){var e=o(this.toDate(),{locale:this.$L,utc:!0});return t?e.add(this.utcOffset(),n):e},a.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var u=a.parse;a.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),u.call(this,t)};var s=a.init;a.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else s.call(this)};var c=a.utcOffset;a.utcOffset=function(t,e){var o=this.$utils().u;if(o(t))return this.$u?0:o(this.$offset)?c.call(this):this.$offset;if("string"==typeof t&&(t=function(t){void 0===t&&(t="");var e=t.match(r);if(!e)return null;var n=(""+e[0]).match(i)||["-",0,0],o=n[0],a=60*+n[1]+ +n[2];return 0===a?0:"+"===o?a:-a}(t),null===t))return this;var a=Math.abs(t)<=16?60*t:t,u=this;if(e)return u.$offset=a,u.$u=0===t,u;if(0!==t){var s=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(u=this.local().add(a+s,n)).$offset=a,u.$x.$localOffset=s}else u=this.utc();return u};var l=a.format;a.format=function(t){var e=t||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return l.call(this,e)},a.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*t},a.isUTC=function(){return!!this.$u},a.toISOString=function(){return this.toDate().toISOString()},a.toString=function(){return this.toDate().toUTCString()};var f=a.toDate;a.toDate=function(t){return"s"===t&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():f.call(this)};var h=a.diff;a.diff=function(t,e,n){if(t&&this.$u===t.$u)return h.call(this,t,e,n);var r=this.local(),i=o(t).local();return h.call(r,i,e,n)}})}(QS);var JS=v(QS.exports),XS={exports:{}};!function(t,e){var n,r;t.exports=(n={year:0,month:1,day:2,hour:3,minute:4,second:5},r={},function(t,e,i){var o,a=function(t,e,n){void 0===n&&(n={});var i=new Date(t),o=function(t,e){void 0===e&&(e={});var n=e.timeZoneName||"short",i=t+"|"+n,o=r[i];return o||(o=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:n}),r[i]=o),o}(e,n);return o.formatToParts(i)},u=function(t,e){for(var r=a(t,e),o=[],u=0;u<r.length;u+=1){var s=r[u],c=s.type,l=s.value,f=n[c];f>=0&&(o[f]=parseInt(l,10))}var h=o[3],d=24===h?0:h,p=o[0]+"-"+o[1]+"-"+o[2]+" "+d+":"+o[4]+":"+o[5]+":000",v=+t;return(i.utc(p).valueOf()-(v-=v%1e3))/6e4},s=e.prototype;s.tz=function(t,e){void 0===t&&(t=o);var n=this.utcOffset(),r=this.toDate(),a=r.toLocaleString("en-US",{timeZone:t}),u=Math.round((r-new Date(a))/1e3/60),s=i(a,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(15*-Math.round(r.getTimezoneOffset()/15)-u,!0);if(e){var c=s.utcOffset();s=s.add(n-c,"minute")}return s.$x.$timezone=t,s},s.offsetName=function(t){var e=this.$x.$timezone||i.tz.guess(),n=a(this.valueOf(),e,{timeZoneName:t}).find((function(t){return"timezonename"===t.type.toLowerCase()}));return n&&n.value};var c=s.startOf;s.startOf=function(t,e){if(!this.$x||!this.$x.$timezone)return c.call(this,t,e);var n=i(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return c.call(n,t,e).tz(this.$x.$timezone,!0)},i.tz=function(t,e,n){var r=n&&e,a=n||e||o,s=u(+i(),a);if("string"!=typeof t)return i(t).tz(a);var c=function(t,e,n){var r=t-60*e*1e3,i=u(r,n);if(e===i)return[r,e];var o=u(r-=60*(i-e)*1e3,n);return i===o?[r,i]:[t-60*Math.min(i,o)*1e3,Math.max(i,o)]}(i.utc(t,r).valueOf(),s,a),l=c[0],f=c[1],h=i(l).utcOffset(f);return h.$x.$timezone=a,h},i.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},i.tz.setDefault=function(t){o=t}})}(XS);var tj=v(XS.exports),ej={exports:{}};!function(t,e){t.exports=function(t,e,n){var r=e.prototype,i=function(t){return t&&(t.indexOf?t:t.s)},o=function(t,e,n,r,o){var a=t.name?t:t.$locale(),u=i(a[e]),s=i(a[n]),c=u||s.map((function(t){return t.slice(0,r)}));if(!o)return c;var l=a.weekStart;return c.map((function(t,e){return c[(e+(l||0))%7]}))},a=function(){return n.Ls[n.locale()]},u=function(t,e){return t.formats[e]||function(t){return t.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(t,e,n){return e||n.slice(1)}))}(t.formats[e.toUpperCase()])},s=function(){var t=this;return{months:function(e){return e?e.format("MMMM"):o(t,"months")},monthsShort:function(e){return e?e.format("MMM"):o(t,"monthsShort","months",3)},firstDayOfWeek:function(){return t.$locale().weekStart||0},weekdays:function(e){return e?e.format("dddd"):o(t,"weekdays")},weekdaysMin:function(e){return e?e.format("dd"):o(t,"weekdaysMin","weekdays",2)},weekdaysShort:function(e){return e?e.format("ddd"):o(t,"weekdaysShort","weekdays",3)},longDateFormat:function(e){return u(t.$locale(),e)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};r.localeData=function(){return s.bind(this)()},n.localeData=function(){var t=a();return{firstDayOfWeek:function(){return t.weekStart||0},weekdays:function(){return n.weekdays()},weekdaysShort:function(){return n.weekdaysShort()},weekdaysMin:function(){return n.weekdaysMin()},months:function(){return n.months()},monthsShort:function(){return n.monthsShort()},longDateFormat:function(e){return u(t,e)},meridiem:t.meridiem,ordinal:t.ordinal}},n.months=function(){return o(a(),"months")},n.monthsShort=function(){return o(a(),"monthsShort","months",3)},n.weekdays=function(t){return o(a(),"weekdays",null,null,t)},n.weekdaysShort=function(t){return o(a(),"weekdaysShort","weekdays",3,t)},n.weekdaysMin=function(t){return o(a(),"weekdaysMin","weekdays",2,t)}}}(ej);var nj=v(ej.exports),rj={exports:{}};!function(t,e){var n;t.exports=(n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},function(t,e,r){var i=e.prototype,o=i.format;r.en.formats=n,i.format=function(t){void 0===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var e=this.$locale().formats,r=function(t,e){return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,r,i){var o=i&&i.toUpperCase();return r||e[i]||n[i]||e[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(t,e,n){return e||n.slice(1)}))}))}(t,void 0===e?{}:e);return o.call(this,r)}})}(rj);var ij=v(rj.exports),oj={exports:{}};!function(t,e){t.exports=function(t,e,n){n.updateLocale=function(t,e){var r=n.Ls[t];if(r)return(e?Object.keys(e):[]).forEach((function(t){r[t]=e[t]})),r}}}(oj);var aj=v(oj.exports);CS.extend(RS),CS.extend(BS),CS.extend(US),CS.extend(VS),CS.extend(NS),CS.extend(YS),CS.extend(FS),CS.extend(ZS),CS.extend(JS),CS.extend(tj),CS.extend(nj),CS.extend(ij),CS.extend(aj);var uj="en",sj=function(){function t(){var e;a(this,t),this.locale=uj,this.timezone=CS.tz.guess(),"object"===("undefined"==typeof window?"undefined":o(window))&&((e=window).dayjs||(e.dayjs=CS))}return s(t,[{key:"setup",value:function(t){var e=t.options;return uh(this,void 0,void 0,i().mark((function t(){var n,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.timezone=e.date.timezone||CS.tz.guess(),"string"!=typeof(n=e.date.locale)||n===uj){t.next=17;break}if("object"!==("undefined"==typeof window?"undefined":o(window))){t.next=12;break}if(t.t0=window["dayjs_locale_".concat(n)],t.t0){t.next=9;break}return t.next=8,this.loadBrowserLocale(n);case 8:t.t0=t.sent;case 9:r=t.t0,t.next=15;break;case 12:return t.next=14,this.loadNodeLocale(n);case 14:r=t.sent;case 15:CS.locale(n),this.locale=r;case 17:"object"===o(n)&&(n.hasOwnProperty("name")?(CS.locale(n.name,n),this.locale=n):this.locale=CS.updateLocale(uj,n));case 18:case"end":return t.stop()}}),t,this)})))}},{key:"extend",value:function(t){return CS.extend(t)}},{key:"getMonthWeekNumber",value:function(t){var e=this.date(t),n=e.startOf("day"),r=e.startOf("month").endOf("week");return n<=r?1:Math.ceil(n.diff(r,"weeks",!0))+1}},{key:"getWeeksCountInMonth",value:function(t){var e=this.date(t);return this.getLastWeekOfMonth(e).diff(this.getFirstWeekOfMonth(e),"week")+1}},{key:"getFirstWeekOfMonth",value:function(t){var e=this.date(t).startOf("month"),n=e.startOf("week");return e.weekday()>4&&(n=n.add(1,"week")),n}},{key:"getLastWeekOfMonth",value:function(t){var e=this.date(t).endOf("month"),n=e.endOf("week");return e.weekday()<4&&(n=n.subtract(1,"week")),n}},{key:"date",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return CS.isDayjs(t)?t:CS(t).tz(this.timezone).utcOffset(0).locale(this.locale)}},{key:"format",value:function(t,e){if("function"==typeof e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return e.apply(void 0,[t].concat(r))}return"string"==typeof e?this.date(t).format(e):null}},{key:"intervals",value:function(t,e,n){var r,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this.date(e);r="number"==typeof n?o.add(n,t):CS.isDayjs(n)?n:this.date(n),o=o.startOf(t),r=r.startOf(t);var a=CS.min(o,r);r=CS.max(o,r);var u=[];i||(r=r.add(1,"second"));do{u.push(+a),a=a.add(1,t)}while(a<r);return u}},{key:"loadBrowserLocale",value:function(t){return new Promise((function(e,n){var r=document.createElement("script");r.type="text/javascript",r.async=!0,r.src="https://cdn.jsdelivr.net/npm/dayjs@1/locale/".concat(t,".js"),r.onerror=function(t){n(t)},r.onload=function(){e(window["dayjs_locale_".concat(t)])},document.head.appendChild(r)}))}},{key:"loadNodeLocale",value:function(t){return import("dayjs/locale/".concat(t,".js"))}}]),t}(),cj=ki,lj=Nm,fj=W,hj=tf,dj=Ym,pj=A("".indexOf);cj({target:"String",proto:!0,forced:!dj("includes")},{includes:function(t){return!!~pj(hj(fj(this)),hj(lj(t)),arguments.length>1?arguments[1]:void 0)}});var vj=["json","csv","tsv","txt"];function yj(t,e){var n=e.domain,r=e.subDomain,i=e.data,o=n.type,a=r.type;if(!t.has(o))throw new Error("'".concat(o,"' is not a valid domain type'"));if(!t.has(a))throw new Error("'".concat(a,"' is not a valid subDomain type'"));if(i.type&&!vj.includes(i.type))throw new Error("The data type '".concat(i.type,"' is not valid data type"));if(!(t.get(a).allowedDomainType||[]).includes(o))throw new Error("The subDomain.type '".concat(a,"' can not be used together ")+"with the domain type ".concat(o));return!0}Fd("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),Xp);var mj=function(){function t(e){a(this,t),this.calendar=e,this.settings=new Map,this.plugins=new Map,this.pendingPaint=new Set}return s(t,[{key:"add",value:function(t){var e=this;t.forEach((function(t){var n=c(t,2),r=n[0],i=n[1],o=function(t,e){return"".concat((new t).name).concat((null==e?void 0:e.key)||"")}(r,i);e.plugins.get(o)&&e.settings.get(o)&&kO(e.settings.get(o).options,i)||(e.settings.set(o,{options:i,dirty:!0}),e.plugins.has(o)||e.plugins.set(o,new r(e.calendar)),e.pendingPaint.add(e.plugins.get(o)))}))}},{key:"setupAll",value:function(){var t=this;this.plugins.forEach((function(e,n){var r=t.settings.get(n);void 0!==r&&r.dirty&&(e.setup(r.options),r.dirty=!1,t.settings.set(n,r))}))}},{key:"paintAll",value:function(){return Array.from(this.pendingPaint.values()).map((function(t){return t.paint()}))}},{key:"destroyAll",value:function(){return this.allPlugins().map((function(t){return t.destroy()}))}},{key:"getFromPosition",value:function(t){return this.allPlugins().filter((function(e){var n;return(null===(n=e.options)||void 0===n?void 0:n.position)===t}))}},{key:"getHeightFromPosition",value:function(t){return this.getFromPosition(t).map((function(t){return t.options.dimensions.height})).reduce((function(t,e){return t+e}),0)}},{key:"getWidthFromPosition",value:function(t){return this.getFromPosition(t).map((function(t){return t.options.dimensions.width})).reduce((function(t,e){return t+e}),0)}},{key:"allPlugins",value:function(){return Array.from(this.plugins.values())}}]),t}(),gj=[function(t){return{name:"minute",allowedDomainType:["day","hour"],rowsCount:function(){return 10},columnsCount:function(){return 6},mapping:function(e,n){return t.intervals("minute",e,t.date(n)).map((function(t,e){return{t,x:Math.floor(e/10),y:e%10}}))},extractUnit:function(e){return t.date(e).startOf("minute").valueOf()}}},function(t,e){var n=e.domain;return{name:"hour",allowedDomainType:["month","week","day"],rowsCount:function(){return 6},columnsCount:function(e){switch(n.type){case"week":return 28;case"month":return 4*(n.dynamicDimension?t.date(e).daysInMonth():31);default:return 4}},mapping:function(e,r){return t.intervals("hour",e,t.date(r)).map((function(e){var r=t.date(e),i=r.hour(),o=r.date(),a=Math.floor(i/6);return"month"===n.type&&(a+=4*(o-1)),"week"===n.type&&(a+=4*+r.format("d")),{t:e,x:a,y:Math.floor(i%6)}}))},extractUnit:function(e){return t.date(e).startOf("hour").valueOf()}}},function(t,e){var n=e.domain,r=e.verticalOrientation;return{name:"day",allowedDomainType:["year","month","week"],rowsCount:function(){return"week"===n.type?1:7},columnsCount:function(e){switch(n.type){case"month":return Math.ceil(n.dynamicDimension&&!r?t.getMonthWeekNumber(t.date(e).endOf("month")):6);case"year":return Math.ceil(n.dynamicDimension?t.date(e).endOf("year").dayOfYear()/7:54);default:return 7}},mapping:function(e,r){var i=0,o=-1;return t.intervals("day",e,t.date(r)).map((function(e){var r=t.date(e);switch(n.type){case"month":o=t.getMonthWeekNumber(e)-1;break;case"year":i!==r.week()&&(i=r.week(),o+=1);break;case"week":o=r.weekday()}return{t:e,x:o,y:"week"===n.type?0:r.weekday()}}))},extractUnit:function(e){return t.date(e).startOf("day").valueOf()}}},function(t,e){var n=e.domain,r=e.verticalOrientation;return{name:"xDay",allowedDomainType:["year","month","week"],rowsCount:function(e){switch(n.type){case"month":return Math.ceil(n.dynamicDimension&&!r?t.getMonthWeekNumber(t.date(e).endOf("month")):6);case"year":return Math.ceil(n.dynamicDimension?t.date(e).endOf("year").dayOfYear()/7:54);default:return 7}},columnsCount:function(){return"week"===n.type?1:7},mapping:function(e,r){return t.intervals("day",e,t.date(r)).map((function(e){var r=t.date(e),i=r.endOf("year").week(),o=0;switch(n.type){case"month":o=t.getMonthWeekNumber(e)-1;break;case"year":1===i&&r.week()===i&&(o=r.subtract(1,"week").week()+1),o=r.week()-1;break;case"week":o=r.weekday()}return{t:e,y:o,x:"week"===n.type?0:r.weekday()}}))},extractUnit:function(e){return t.date(e).startOf("day").valueOf()}}},function(t){return{name:"ghDay",allowedDomainType:["month"],rowsCount:function(){return 7},columnsCount:function(e){return t.getWeeksCountInMonth(e)},mapping:function(e,n){var r=t.getFirstWeekOfMonth(e),i=t.getFirstWeekOfMonth(n),o=-1,a=r.weekday();return t.intervals("day",r,i).map((function(e){var n=t.date(e).weekday();return n===a&&(o+=1),{t:e,x:o,y:n}}))},extractUnit:function(e){return t.date(e).startOf("day").valueOf()}}},function(t,e){var n=e.domain;return{name:"week",allowedDomainType:["year","month"],rowsCount:function(){return 1},columnsCount:function(e){switch(n.type){case"year":return n.dynamicDimension?t.date(e).endOf("year").isoWeeksInYear():53;case"month":return n.dynamicDimension?t.getWeeksCountInMonth(e):5;default:return 1}},mapping:function(e,n){var r=t.getFirstWeekOfMonth(e),i=t.getFirstWeekOfMonth(n);return t.intervals("week",r,i).map((function(t,e){return{t,x:e,y:0}}))},extractUnit:function(e){return t.date(e).startOf("week").valueOf()}}},function(t){return{name:"month",allowedDomainType:["year"],rowsCount:function(){return 1},columnsCount:function(){return 12},mapping:function(e,n){return t.intervals("month",e,t.date(n)).map((function(e){return{t:e,x:t.date(e).month(),y:0}}))},extractUnit:function(e){return t.date(e).startOf("month").valueOf()}}},function(t){return{name:"year",allowedDomainType:[],rowsCount:function(){return 1},columnsCount:function(){return 1},mapping:function(e,n){return t.intervals("year",e,t.date(n)).map((function(t,e){return{t,x:e,y:0}}))},extractUnit:function(e){return t.date(e).startOf("year").valueOf()}}}],bj=function(){function t(e,n){a(this,t),this.settings=new Map,this.dateHelper=e,this.options=n,this.initiated=!1}return s(t,[{key:"get",value:function(t){return this.settings.get(t)}},{key:"has",value:function(t){return this.settings.has(t)}},{key:"init",value:function(){this.initiated||(this.initiated=!0,this.add(gj))}},{key:"add",value:function(t){var e=this;this.init();var n=[];hh(t).forEach((function(t){var r=t(e.dateHelper,e.options.options);e.settings.set(r.name,r),r.hasOwnProperty("parent")&&n.push(r.name)})),n.forEach((function(t){var n=e.settings.get(e.settings.get(t).parent);n&&e.settings.set(t,Object.assign(Object.assign({},n),e.settings.get(t)))}))}}]),t}(),wj=function(){function t(){a(this,t),this.options=new VO,this.dateHelper=new sj,this.templateCollection=new bj(this.dateHelper,this.options),this.dataFetcher=new SS(this),this.navigator=new yp(this),this.populator=new Fb(this),this.calendarPainter=new fm(this),this.eventEmitter=new lh,this.pluginManager=new mj(this)}return s(t,[{key:"createDomainCollection",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return new Dy(this.dateHelper,this.options.options.domain.type,t,e,n)}},{key:"paint",value:function(t,e){return uh(this,void 0,void 0,i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.options.init(t),n.next=3,this.dateHelper.setup(this.options);case 3:this.templateCollection.init(),n.prev=4,yj(this.templateCollection,this.options.options),n.next=11;break;case 8:return n.prev=8,n.t0=n.catch(4),n.abrupt("return",Promise.reject(n.t0));case 11:return e&&this.pluginManager.add(hh(e)),this.calendarPainter.setup(),this.domainCollection=new Dy(this.dateHelper),this.navigator.loadNewDomains(this.createDomainCollection(this.options.options.date.start,this.options.options.range)),n.abrupt("return",Promise.allSettled([this.calendarPainter.paint(),this.fill()]));case 16:case"end":return n.stop()}}),n,this,[[4,8]])})))}},{key:"addTemplates",value:function(t){this.templateCollection.add(t)}},{key:"next",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this.navigator.loadNewDomains(this.createDomainCollection(this.domainCollection.max,t+1).slice(t),cp.SCROLL_FORWARD);return Promise.allSettled([this.calendarPainter.paint(e),this.fill()])}},{key:"previous",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this.navigator.loadNewDomains(this.createDomainCollection(this.domainCollection.min,-t),cp.SCROLL_BACKWARD);return Promise.allSettled([this.calendarPainter.paint(e),this.fill()])}},{key:"jumpTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Promise.allSettled([this.calendarPainter.paint(this.navigator.jumpTo(t,e)),this.fill()])}},{key:"fill",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.options.data.source,n=this.options.options,r=this.templateCollection,i=this.dateHelper.intervals(n.domain.type,this.domainCollection.max,2)[1],o=this.dataFetcher.getDatas(e,this.domainCollection.min,i);return new Promise((function(e,i){o.then((function(i){t.domainCollection.fill(i,n.data,r.get(n.subDomain.type).extractUnit),t.populator.populate(),e(null)}),(function(t){i(t)}))}))}},{key:"on",value:function(t,e){this.eventEmitter.on(t,e)}},{key:"dimensions",value:function(){return this.calendarPainter.dimensions}},{key:"destroy",value:function(){return this.calendarPainter.destroy()}},{key:"extendDayjs",value:function(t){return this.dateHelper.extend(t)}}]),t}();return wj.VERSION="4.2.4",wj}));